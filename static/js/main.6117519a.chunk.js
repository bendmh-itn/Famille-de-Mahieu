(this.webpackJsonpfamille=this.webpackJsonpfamille||[]).push([[0],{32:function(e,n,t){},43:function(e,n,t){},68:function(e,n,t){"use strict";t.r(n);var a=t(3),i=t(1),r=t.n(i),c=t(21),s=t.n(c),o=(t(43),t(18)),l=t(6),u=(t(32),t(20)),m=(t(44),t(69),new u.a.auth.GoogleAuthProvider),b=(u.a.apps.length?u.a.app():u.a.initializeApp({apiKey:"AIzaSyB3JOdtAfXGRs5ob9KztShnK3OCY-m4oiU",authDomain:"demahieu-file.firebaseapp.com",projectId:"demahieu-file",storageBucket:"demahieu-file.appspot.com",messagingSenderId:"192092843689",appId:"1:192092843689:web:d490269a5a93671c3483b8"})).firestore();var j=u.a.auth(),d=(u.a.firestore(),{findAll:function(){return b.collection("famille").orderBy("numberFamilly","asc").get()},signInWithGoogle:function(){j.signInWithPopup(m)}}),h=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("nav",{id:"MyModification",className:"navbar navbar-expand-lg navbar-dark",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)(o.b,{className:"navbar-brand",to:"/",replace:!0,children:"Famille de Mahieu"}),Object(a.jsx)(o.b,{className:"navbar-brand",to:"/anniversaire",children:"Annif"}),Object(a.jsx)("button",{className:"buttonConnexion",onClick:function(){d.signInWithGoogle()},children:"Connexion"})]})})})},f=t(14),p=t(15),g=t(16),O=t(37),v=Object(i.createContext)({user:null}),x=function(e){Object(g.a)(t,e);var n=Object(O.a)(t);function t(){var e;Object(f.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).state={user:null},e.componentDidMount=function(){j.onAuthStateChanged((function(n){e.setState({user:n})}))},e}return Object(p.a)(t,[{key:"render",value:function(){return Object(a.jsx)(v.Provider,{value:this.state.user,children:this.props.children})}}]),t}(i.Component),N=t(13),F=function(e){var n=e.lienImage,t=e.prenomNom,i=e.dateDeNaissance,r=e.link,c=void 0===r?"#":r,s=e.dateDeces,o=e.generation,u=Object(l.f)();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"elementFlexible",children:["#"!==c&&Object(a.jsx)("button",{className:"myButton",onClick:function(){return u.push(c)},children:Object(a.jsx)("img",{src:n,alt:t})}),("4"===o||"1"===o)&&Object(a.jsx)("img",{src:n,alt:t}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{children:t}),Object(a.jsxs)("h6",{children:[i,s&&Object(a.jsxs)("span",{children:[" - ",s]})]})]})]})})},y=[],D=function(e,n){var t=[],a=e.toString().slice(0,n-1);return y.filter((function(e){return e.numberFamilly.toString().slice(0,n-1)===a&&e.numberFamilly<10*a+10})).map((function(e){return t.push(e)})),t};function S(e,n){return e.birthDate!==n.birthDate?e.birthDate>n.birthDate?1:-1:0}var C=function(){var e=[],n=new Date;return y.forEach((function(t){t.birthDate.split("/")[1]===(n.getMonth()+1).toString()&&e.push(t)})),e.sort(S),e},I=t(36),k=function(e){var n=e.data,t=Object(l.f)();return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(I.a,{options:n,isClearable:!0,isSearchable:!0,onChange:function(e){null!==e&&(t.push("/"+e.value),C())}})})},w=function(e){var n=e.match,t=Object(i.useState)([]),r=Object(N.a)(t,2),c=r[0],s=r[1],o=Object(i.useState)(""),l=Object(N.a)(o,2),u=l[0],m=l[1],b=Object(i.useState)([]),j=Object(N.a)(b,2),h=j[0],f=j[1];return Object(i.useEffect)((function(){if(0===h.length)d.findAll().then((function(e){var t=n.params.numberFamilly,a=n.params.generation;m(n.params.generation),void 0!==a&&void 0!==t||(t=0,a="1",m("1")),function(e){y=[],e.forEach((function(e){y.push(e)}))}(e.docs.map((function(e){return e.data()})));var i=D(t,a);s([]),s(i),f(function(){var e=[];return y.filter((function(e){return"4"!==e.generation})).map((function(n){return e.push({value:n.generation+"/"+n.numberFamilly,label:n.firstName+" "+n.lastName})})),e}()),window.scroll(0,0)}));else{var e=n.params.numberFamilly,t=n.params.generation;m(n.params.generation),void 0!==t&&void 0!==e||(e=0,t="1",m("1"));var a=D(e,t);s([]),s(a),window.scroll(0,0)}}),[n.params.generation,n.params.numberFamilly]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k,{data:h}),void 0!==c[0]&&Object(a.jsx)("h1",{children:c[0].famillyName}),Object(a.jsx)("div",{className:"containerFlexible",children:c.filter((function(e){return e.generation===u})).map((function(e){return Object(a.jsx)(F,{lienImage:e.pictureName,prenomNom:e.firstName+" "+e.lastName,dateDeNaissance:e.birthDate,dateDeces:e.deathDate,link:"4"===e.generation||"1"===e.generation?"#":"/"+e.generation+"/"+e.numberFamilly,generation:e.generation},e.firstName+""+e.famillyName)}))}),Object(a.jsx)("div",{className:"containerFlexible",children:c.filter((function(e){return e.generation!==u})).map((function(e){return Object(a.jsx)(F,{lienImage:e.pictureName,prenomNom:e.firstName+" "+e.lastName,dateDeNaissance:e.birthDate,dateDeces:e.deathDate,link:"4"===e.generation||"1"===e.generation?"#":"/"+e.generation+"/"+e.numberFamilly,generation:e.generation},e.firstName+""+e.famillyName)}))})]})},A=function(){var e=Object(i.useState)([]),n=Object(N.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(""),s=Object(N.a)(c,2),o=s[0],l=s[1];return Object(i.useEffect)((function(){var e=C(),n=new Date;l(["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","d\xe9cembre"][n.getMonth()]),r(e)}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("h2",{className:"text-center",children:["Anniversaire de ",o]})}),Object(a.jsx)("div",{className:"containerFlexible",children:t.map((function(e){return Object(a.jsx)(F,{lienImage:e.pictureName,prenomNom:e.firstName+" "+e.lastName,dateDeNaissance:e.birthDate,dateDeces:e.deathDate,link:"4"===e.generation||"1"===e.generation?"#":"/"+e.generation+"/"+e.numberFamilly,generation:e.generation},e.firstName+""+e.famillyName)}))})]})};var M=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(x,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(h,{}),Object(a.jsx)("main",{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/:generation/:numberFamilly",component:w}),Object(a.jsx)(l.a,{path:"/anniversaire",component:A}),Object(a.jsx)(l.a,{path:"/",component:w})]})})]})})})},B=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,70)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),a(e),i(e),r(e),c(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(M,{})}),document.getElementById("root")),B()}},[[68,1,2]]]);
//# sourceMappingURL=main.6117519a.chunk.js.map