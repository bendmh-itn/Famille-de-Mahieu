{"version":3,"sources":["Functions/cache.js","firebase.js","Components/navBar/navBar.jsx","Components/Providers/UserProvider.jsx","Components/trombinoscopeFlex.jsx","constant.js","Functions/FilterData.js","Components/selectPerson.jsx","Pages/deMahieu-dessain.jsx","Pages/anniversaire.jsx","Components/navBar/navBarGenereation.jsx","Pages/generation2.jsx","Pages/generation3.jsx","Pages/generation4.jsx","Components/navBar/navBarJeux.jsx","Pages/jeu.jsx","Components/selectModifyPerson.jsx","Components/CarouselBootstrap.jsx","Components/spinnerBootstrap.jsx","Components/modal/modalAddPeople.jsx","Pages/profilUser.jsx","Components/navBar/navBarMobile.jsx","Components/modal/modalAddComment.jsx","Components/modal/modalEditEvent.jsx","Components/modal/modalAddLink.jsx","Components/eventsFlex.jsx","Components/modal/modalCreateEvent.jsx","Pages/listeEvenements.jsx","Components/navBar/navBarAdmin.jsx","Pages/admin/adminCreateUser.jsx","Pages/admin/adminGestionPicture.jsx","Pages/jeu2.jsx","Pages/admin/adminAddEmail.jsx","Pages/admin/adminExportData.jsx","App.js","reportWebVitals.js","index.js"],"names":["userData","getUserData","provider","firebase","auth","GoogleAuthProvider","db","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","url","id","a","collection","doc","update","PhotosHistory","FieldValue","arrayRemove","then","storage","refFromURL","delete","modifyPhotosInEvent","pictureList","Photos","CreateUserFromCSV","data","add","deathDate","firstName","lastName","generation","birthDate","numberFamilly","pictureName","arrayUnion","famillyName","dateMariage","email","status","where","get","querySnapshot","forEach","push","value","adresseMail","label","catch","error","console","log","idEmail","split","AddElementInPhoto","userId","dataSended","image","Added_by","video","link","texte","title","getEvents","orderBy","UpdateEvent","Titre","titre","PhotoEvent","Date","Timestamp","fromDate","date","CreateUserFireBase","person","PutDataLocalStorage","DeleteEvent","eventId","window","location","reload","test","findAll","signInWithGoogle","signInWithPopup","result","user","localStorage","setItem","empty","FindIdPerson","ModifyUserFireBase","undefined","FindEmailPerson","Disconnect","signOut","NavBar","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","role","aria-haspopup","aria-labelledby","getItem","onClick","Firebase","UserContext","createContext","UserProvider","state","componentDidMount","onAuthStateChanged","userAuth","setState","Provider","this","props","children","Component","TrombinoscopeFlex","myBirthday","history","useHistory","src","alt","ACTUAL_GENERATION","allData","getData","copyData","element","MyFilter","filteredData","valueCompare","toString","slice","filter","map","DataInOptions","options","FindOnePersonByNumberFamilly","AllDataInOptions","trieArray","b","anneeA","anneeB","moisA","moisB","jourA","jourB","trieArrayByBirthdate","MoisPersons","now","moisAnnee","getMonth","sort","FilterByGeneration","e","jeu","dataFiltred","FilterByPicture","RandomizeArray","randomize","tab","i","j","tmp","Math","floor","random","getParentsArray","numberChildren","tabParents","dataFinal","choix","comparatif","goodAnswer","parentsRandom","tabParentsRandom","SelectPerson","isClearable","isSearchable","onChange","event","Family","match","useState","famillyFiltred","setFamillyFiltred","setGeneration","setOptions","useEffect","params","fireBase","docs","FilterData","scroll","Anniversaire","month","setMonth","day","setDay","getDate","width","height","scrolling","NavBarGeneration","menuSelected","setMenuSelected","changeMenuSelected","menu","useLocation","pathname","substring","name","Generation2","Generation3","Generation4","dateDeces","round","NavBarJeux","Jeu","setPerson","personSelected","setPersonSelected","score","setScore","total","setTotal","selectValue","setSelectValue","indice","setIndice","index","setIndex","setGoodAnswer","level","setLevel","React","createRef","imageRef","imageHorizontal","setImageHorizontal","inputReference","useRef","VerifyAnswer","toLowerCase","replace","monIndex","nextPerson","current","focus","ref","onLoad","naturalHeight","naturalWidth","onKeyPress","key","target","ChooseData","SelectModifyPerson","modifyPerson","ControlledCarousel","DeletePicture","photo","confirm","getRefPicture","ChoosePicture","changePictureProfil","Carousel","activeIndex","onSelect","selectedIndex","indicators","Item","class","size","SpinnerBootstrap","Spinner","animation","ModalAddPoeple","personSelect","numberOfChildrens","setData","handleChange","tabIndex","aria-hidden","data-dismiss","placeholder","numberPartner","parseInt","htmlFor","ConfirmEmail","emailUser","setEmailUser","message","setMessage","setId","picture","setPicture","confirmedAccount","setConfirmedAccount","pictureChanged","setPictureChanged","myClass","setMyClass","dataCharged","setDataCharged","setPersonSelect","loading","setLoading","useContext","modifyPersonSelect","ChargeData","userMail","FindOnePersonByEmail","ChildrenInOptions","files","Compressor","quality","success","compressedResult","put","on","snapshot","child","getDownloadURL","NavBarMobile","includes","ModalAddComment","picturesList","required","comment","ModalEditEvent","ModalAddLink","EventFlex","pictures","setPictures","setClassName","upload","setUpload","ConfirmDelete","info","res","splice","moment","unix","seconds","format","Created_By","multiple","images","imagesCompress","file","counter","sendPicture","controls","rel","href","ModalCreateEvent","CreateEvent","ListeEvenements","events","setEvents","useParams","setUserId","NavBarAdmin","AdminCreateUser","personStatus","setPersonStatus","create","setCreate","RefreshField","AllDataInOptionsNoException","AdminGestionPicture","setPicturesList","dataChanged","setDataChanged","listRef","listAll","items","itemRef","arr","deletePicture","Jeu2","generation4","setGeneration4","parentsList","setParentsList","colorMessage","setColorMessage","dataReturned","dataRandom","parent","CheckResponse","AdminAddEmail","setIdEmail","listEmails","setListEmails","listUsers","setListUsers","getEmailInOption","results","emailSelected","idSelected","deleteEmailFirebase","changeStatus","addEmail","accept","Papa","parse","complete","AdminExportData","App","setStatus","getStatusEmail","path","component","adminCreateUser","HomePage","AnniversairePage","Profil","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d7661cf7.chunk.js","sourcesContent":["var userData = {};\r\n\r\nexport const getUserData = () => {\r\n  return userData;\r\n};\r\n\r\nexport const copyUserData = (id, data) => {\r\n  userData = {};\r\n  userData.id = id;\r\n  userData.data = data;\r\n};\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport { copyUserData } from \"./Functions/cache\";\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nvar firebaseApp;\r\n\r\nif (!firebase.apps.length) {\r\n  firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyB3JOdtAfXGRs5ob9KztShnK3OCY-m4oiU\",\r\n    authDomain: \"demahieu-file.firebaseapp.com\",\r\n    projectId: \"demahieu-file\",\r\n    storageBucket: \"demahieu-file.appspot.com\",\r\n    messagingSenderId: \"192092843689\",\r\n    appId: \"1:192092843689:web:d490269a5a93671c3483b8\",\r\n  });\r\n} else {\r\n  firebaseApp = firebase.app(); // if already initialized, use that one\r\n}\r\n\r\nexport const db = firebaseApp.firestore();\r\n\r\nfunction findAll() {\r\n  return db.collection(\"famille\").orderBy(\"numberFamilly\", \"asc\").get();\r\n}\r\n\r\nfunction FindIdPerson(numberFamilly) {\r\n  return db\r\n    .collection(\"famille\")\r\n    .where(\"numberFamilly\", \"==\", numberFamilly)\r\n    .get();\r\n}\r\n\r\nfunction FindEmailPerson(email) {\r\n  return db.collection(\"famille\").where(\"email\", \"==\", email).get();\r\n}\r\n\r\n//Cette fonction permet de supprimer la photo du storage et de l'historique de la personne\r\nexport async function getRefPicture(url, id) {\r\n  return await db\r\n    .collection(\"famille\")\r\n    .doc(id)\r\n    .update({\r\n      PhotosHistory: firebase.firestore.FieldValue.arrayRemove(url),\r\n    })\r\n    .then(() => {\r\n      firebase.storage().refFromURL(url).delete();\r\n    });\r\n}\r\n\r\nexport async function deletePicture(url) {\r\n  return await firebase.storage().refFromURL(url).delete();\r\n}\r\n\r\nexport async function modifyPhotosInEvent(id, pictureList) {\r\n  return await db.collection(\"evenement\").doc(id).update({\r\n    Photos: pictureList,\r\n  });\r\n}\r\n\r\nexport async function copyDataInTest() {}\r\n\r\n//Cette fonction permet de changer la photo de profil parmis celle dans le tableau de la personne.\r\nexport function changePictureProfil(id, pictureName) {\r\n  return db.collection(\"famille\").doc(id).update({\r\n    pictureName: pictureName,\r\n  });\r\n}\r\n\r\nexport function CreateUserFromCSV(data) {\r\n  return db.collection(\"famille\").add({\r\n    deathDate: data[9],\r\n    firstName: data[7],\r\n    lastName: data[4],\r\n    generation: data[8],\r\n    birthDate: data[5],\r\n    numberFamilly: data[3],\r\n    pictureName: data[2],\r\n    PhotosHistory: firebase.firestore.FieldValue.arrayUnion(data[6]),\r\n    famillyName: data[1],\r\n    dateMariage: data[10],\r\n    email: data[11],\r\n    status: \"à vérifié\",\r\n  });\r\n}\r\n\r\nfunction ModifyUserFireBase(id, person, pictureName = \"\") {\r\n  if (person.dateMariage === undefined) {\r\n    person.dateMariage = \"\";\r\n  }\r\n  return db\r\n    .collection(\"famille\")\r\n    .doc(id)\r\n    .update({\r\n      firstName: person.firstName,\r\n      lastName: person.lastName,\r\n      generation: person.generation,\r\n      birthDate: person.birthDate,\r\n      numberFamilly: person.numberFamilly,\r\n      pictureName: pictureName === \"\" ? person.pictureName : pictureName,\r\n      PhotosHistory:\r\n        pictureName === \"\"\r\n          ? firebase.firestore.FieldValue.arrayUnion(person.pictureName)\r\n          : firebase.firestore.FieldValue.arrayUnion(pictureName),\r\n      famillyName: person.famillyName,\r\n      dateMariage: person.dateMariage,\r\n      email: person.email,\r\n    });\r\n}\r\n\r\nexport async function getEmailInOption() {\r\n  let userData = [];\r\n  return await db\r\n    .collection(\"emails\")\r\n    .where(\"status\", \"==\", \"à vérifié\")\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n        userData.push({\r\n          value: doc.data().adresseMail + \"email:\" + doc.id,\r\n          label: doc.data().adresseMail,\r\n        });\r\n      });\r\n      return userData;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Error getting documents: \", error);\r\n    });\r\n}\r\n\r\nexport async function getUsersInOption() {\r\n  let userData = [];\r\n  return await db\r\n    .collection(\"famille\")\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n        userData.push({\r\n          value: doc.id,\r\n          label: doc.data().firstName + \" \" + doc.data().lastName,\r\n        });\r\n      });\r\n      return userData;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Error getting documents: \", error);\r\n    });\r\n}\r\n\r\nexport function changeStatus(id, message) {\r\n  return db.collection(\"emails\").doc(id).update({\r\n    status: message,\r\n  });\r\n}\r\n\r\nexport async function deleteEmailFirebase(idEmail) {\r\n  return db\r\n    .collection(\"emails\")\r\n    .doc(idEmail)\r\n    .delete()\r\n    .catch((error) => {\r\n      console.error(\"Error removing document: \", error);\r\n    });\r\n}\r\n\r\nexport async function addEmail(id, email) {\r\n  return db\r\n    .collection(\"famille\")\r\n    .where(\"numberFamilly\", \"==\", id.split(\"/\")[1])\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n        db.collection(\"famille\").doc(doc.id).update({\r\n          email: email,\r\n        });\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Error getting documents: \", error);\r\n    });\r\n}\r\n\r\nexport async function getStatusEmail(email) {\r\n  let userData = [];\r\n  return await db\r\n    .collection(\"emails\")\r\n    .where(\"adresseMail\", \"==\", email)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n        userData.push(doc.data());\r\n      });\r\n      return userData;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Error getting documents: \", error);\r\n    });\r\n}\r\n\r\nexport function AddElementInPhoto(id, pictureName, userId, dataSended) {\r\n  return db\r\n    .collection(\"evenement\")\r\n    .doc(id)\r\n    .update({\r\n      Photos:\r\n        dataSended === \"images\"\r\n          ? firebase.firestore.FieldValue.arrayUnion({\r\n              image: pictureName,\r\n              Added_by: userId,\r\n            })\r\n          : dataSended === \"video\"\r\n          ? firebase.firestore.FieldValue.arrayUnion({\r\n              video: pictureName,\r\n              Added_by: userId,\r\n            })\r\n          : firebase.firestore.FieldValue.arrayUnion({\r\n              link: pictureName.link,\r\n              texte: pictureName.title,\r\n              Added_by: userId,\r\n            }),\r\n    });\r\n}\r\n\r\nexport function getEvents() {\r\n  return db.collection(\"evenement\").orderBy(\"Date\", \"desc\").get();\r\n}\r\n\r\nexport function CreateEvent(data, pictureName, userId) {\r\n  return db.collection(\"evenement\").add({\r\n    Titre: data.titre,\r\n    Photos: [],\r\n    PhotoEvent: pictureName,\r\n    Date: firebase.firestore.Timestamp.fromDate(new Date(data.date)),\r\n    Created_By: userId,\r\n  });\r\n}\r\n\r\nexport function UpdateEvent(data, id, pictureName) {\r\n  return db\r\n    .collection(\"evenement\")\r\n    .doc(id)\r\n    .update({\r\n      Titre: data.titre,\r\n      PhotoEvent: pictureName,\r\n      Date: firebase.firestore.Timestamp.fromDate(new Date(data.date)),\r\n    });\r\n}\r\n\r\nexport function CreateUserFireBase(person, pictureName = \"\") {\r\n  return db.collection(\"famille\").add({\r\n    firstName: person.firstName,\r\n    lastName: person.lastName,\r\n    generation: person.generation,\r\n    birthDate: person.birthDate,\r\n    numberFamilly: person.numberFamilly,\r\n    pictureName: pictureName,\r\n    PhotosHistory: firebase.firestore.FieldValue.arrayUnion(pictureName),\r\n    famillyName: person.famillyName,\r\n    dateMariage: person.dateMariage,\r\n    email: \"\",\r\n  });\r\n}\r\n\r\nexport const storage = firebase.storage();\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nconst signInWithGoogle = () => {\r\n  auth.signInWithPopup(provider).then((result) => {\r\n    const email = result.user.email;\r\n    db.collection(\"emails\")\r\n      .where(\"adresseMail\", \"==\", email)\r\n      .get()\r\n      .then((doc) => {\r\n        localStorage.setItem(\"email\", email);\r\n        if (doc.empty) {\r\n          db.collection(\"emails\")\r\n            .add({\r\n              adresseMail: email,\r\n              status: \"à vérifié\",\r\n            })\r\n            .then(() => {\r\n              window.location.reload();\r\n            });\r\n        } else {\r\n          window.location.reload();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n      });\r\n  });\r\n};\r\n\r\nexport const PutDataLocalStorage = async (email) => {\r\n  let userData = {};\r\n  return await db\r\n    .collection(\"famille\")\r\n    .where(\"email\", \"==\", email)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n        userData.id = doc.id;\r\n        userData.data = doc.data();\r\n        copyUserData(doc.id, doc.data());\r\n      });\r\n      return userData;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Error getting documents: \", error);\r\n    });\r\n};\r\n\r\nexport function DeleteEvent(eventId) {\r\n  db.collection(\"evenement\")\r\n    .doc(eventId)\r\n    .delete()\r\n    .then(() => {\r\n      window.location.reload(false);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\nexport function AddEmailAddressWithCSV(data) {\r\n  return db.collection(\"emails\").add({\r\n    adresseMail: data[0],\r\n    status: \"à vérifié\",\r\n  });\r\n}\r\n\r\nconst Disconnect = () => {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      localStorage.setItem(\"email\", \"\");\r\n      window.location.reload();\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\nconst test = {\r\n  findAll,\r\n  signInWithGoogle,\r\n  FindIdPerson,\r\n  ModifyUserFireBase,\r\n  FindEmailPerson,\r\n  Disconnect,\r\n};\r\n\r\nexport default test;\r\n","import React from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Firebase from \"../../firebase\";\r\n\r\nconst NavBar = () => {\r\n    return ( \r\n        <>\r\n            <nav id=\"MyModification\" className=\"navbar navbar-expand-lg navbar-dark\">\r\n                <NavLink className=\"navbar-brand\" to=\"/\">Famille de Mahieu</NavLink>\r\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                \r\n\r\n                <div className=\"collapse navbar-collapse justify-content-between\" id=\"navbarSupportedContent\">\r\n                    <ul className=\"navbar-nav mr-auto\">\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"navbar-brand\" to=\"/anniversaire\" >Anniversaires</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item dropdown\">\r\n                            <NavLink className=\"navbar-brand dropdown-toggle\" to=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            Génération\r\n                            </NavLink>\r\n                            <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                                <NavLink className=\"dropdown-item\" to=\"/generation2\">Génération 2</NavLink>\r\n                                <NavLink className=\"dropdown-item\" to=\"/generation3\">Génération 3</NavLink>\r\n                                <NavLink className=\"dropdown-item\" to=\"/generation4\">Génération 4</NavLink>\r\n                            </div>\r\n                        </li>\r\n                        <li className=\"nav-item dropdown\">\r\n                            <NavLink className=\"navbar-brand dropdown-toggle\" to=\"#\" id=\"navbarDropdownJeux\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            Jeux\r\n                            </NavLink>\r\n                            <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                                <NavLink className=\"dropdown-item\" to=\"/jeu2\">Jeu 1</NavLink>\r\n                                <NavLink className=\"dropdown-item\" to=\"/jeu\">Jeu 2</NavLink>\r\n                            </div>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"navbar-brand\" to=\"/arbre\">Arbre</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"navbar-brand\" to=\"/profil\">Profil</NavLink>\r\n                        </li>\r\n                    </ul>\r\n                    {(localStorage.getItem(\"email\") === null || localStorage.getItem(\"email\") === \"\") &&\r\n                        <button\r\n                            className=\"buttonConnexion navbar-brand text-right\" onClick = {() => {Firebase.signInWithGoogle()}}>\r\n                            Connexion\r\n                        </button>\r\n                    }\r\n                    {localStorage.getItem(\"email\") !== null && localStorage.getItem(\"email\") !== \"\" &&\r\n                        <button\r\n                            className=\"buttonConnexion navbar-brand text-right\" onClick = {() => {Firebase.Disconnect()}}>\r\n                            Déconnexion\r\n                        </button>\r\n                    }\r\n                </div>\r\n            </nav>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default NavBar;","import React, { Component, createContext } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\n\r\nexport const UserContext = createContext({ user: null });\r\n\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: null\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    auth.onAuthStateChanged(userAuth => {\r\n      this.setState({ user: userAuth});\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <UserContext.Provider value={this.state.user}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\nexport default UserProvider;","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport '../App.css';\r\n\r\nconst TrombinoscopeFlex = ({person, link=\"#\", myBirthday = false, className=\"elementFlexible\"}) => {\r\n    const history = useHistory();\r\n\r\n    return ( \r\n        <>\r\n            <div className={className}>\r\n                {link !== \"#\" && \r\n                    <button className=\"myButton\" onClick={() => history.push(link)}><img src={person.pictureName} alt={person.firstName + \" \" + person.lastName} /></button>\r\n                }\r\n                {link === \"#\" && \r\n                    <img className='picture' src={person.pictureName} alt={person.firstName + \" \" + person.lastName} />\r\n                }\r\n                <div>\r\n                    <h5>{person.firstName + \" \" + person.lastName}</h5>\r\n                    <h6>{person.birthDate} \r\n                    {person.deathDate &&\r\n                        <span> - {person.deathDate}</span> \r\n                    }\r\n                    </h6>\r\n                </div>\r\n                {myBirthday && <h2 className=\"clignote\">Happy birthday</h2>}\r\n            </div>   \r\n        </>\r\n     );\r\n}\r\n \r\nexport default TrombinoscopeFlex;","export const ACTUAL_GENERATION = \"4\";\r\n","import { ACTUAL_GENERATION } from \"../constant\";\r\n\r\nvar allData = [];\r\n\r\nexport const clearAllData = () => {\r\n  allData = [];\r\n};\r\n\r\nexport const addEmail = (numberFamilly, email) => {\r\n  const person = FindOnePersonByNumberFamilly(numberFamilly);\r\n  person.email = email;\r\n};\r\n\r\nexport const getData = () => {\r\n  return allData;\r\n};\r\n\r\nexport const copyData = (data) => {\r\n  allData = [];\r\n  data.forEach((element) => {\r\n    allData.push(element);\r\n  });\r\n};\r\n\r\nexport const MyFilter = (numberFamilly, generation) => {\r\n  var filteredData = [];\r\n  var valueCompare = numberFamilly.toString().slice(0, generation - 1);\r\n  allData\r\n    .filter(\r\n      (person) =>\r\n        person.numberFamilly.toString().slice(0, generation - 1) ===\r\n          valueCompare && person.numberFamilly < valueCompare * 10 + 10\r\n    )\r\n    .map((person) => {\r\n      return filteredData.push(person);\r\n    });\r\n  return filteredData;\r\n};\r\n\r\nexport const ChildrenInOptions = (numberFamilly, generation) => {\r\n  var options = [];\r\n  var valueCompare = numberFamilly.toString().slice(0, generation - 1);\r\n  if (generation === \"3\") {\r\n    allData\r\n      .filter(\r\n        (person) =>\r\n          person.numberFamilly.toString().slice(0, generation - 1) ===\r\n            valueCompare && person.numberFamilly < valueCompare * 10 + 10\r\n      )\r\n      .map((element) => {\r\n        return options.push({\r\n          value: element.generation + \"/\" + element.numberFamilly,\r\n          label: element.firstName + \" \" + element.lastName,\r\n        });\r\n      });\r\n  } else {\r\n    allData\r\n      .filter(\r\n        (person) =>\r\n          person.numberFamilly.toString().slice(0, generation - 1) ===\r\n            valueCompare && person.numberFamilly <= valueCompare * 10\r\n      )\r\n      .map((element) => {\r\n        return options.push({\r\n          value: element.generation + \"/\" + element.numberFamilly,\r\n          label: element.firstName + \" \" + element.lastName,\r\n        });\r\n      });\r\n  }\r\n  return options;\r\n};\r\n\r\nexport const DataInOptions = () => {\r\n  var options = [];\r\n  allData\r\n    .filter((person) => person.generation !== ACTUAL_GENERATION)\r\n    .map((element) => {\r\n      return options.push({\r\n        value: element.generation + \"/\" + element.numberFamilly,\r\n        label: element.firstName + \" \" + element.lastName,\r\n      });\r\n    });\r\n  return options;\r\n};\r\n\r\nexport const FindOnePersonByNumberFamilly = (numberFamilly) => {\r\n  var filteredData = [];\r\n  allData\r\n    .filter((person) => person.numberFamilly === numberFamilly)\r\n    .map((person) => {\r\n      return filteredData.push(person);\r\n    });\r\n  return filteredData[0];\r\n};\r\n\r\nexport const FindOnePersonByEmail = (email) => {\r\n  var filteredData = [];\r\n  allData\r\n    .filter((person) => person.email === email)\r\n    .map((person) => {\r\n      return filteredData.push(person);\r\n    });\r\n  return filteredData[0];\r\n};\r\n\r\n/**\r\n * Cette permet de créer des options pour une liste déroulante en évitant la génération 1 et actuelle\r\n * @returns array\r\n */\r\nexport const AllDataInOptions = () => {\r\n  var options = [];\r\n  allData\r\n    .filter(\r\n      (person) =>\r\n        (person.generation !== \"1\" &&\r\n          person.generation !== ACTUAL_GENERATION &&\r\n          person.email === undefined) ||\r\n        person.email === \"\"\r\n    )\r\n    .map((element) => {\r\n      return options.push({\r\n        value: element.generation + \"/\" + element.numberFamilly,\r\n        label: element.firstName + \" \" + element.lastName,\r\n      });\r\n    });\r\n  return options;\r\n};\r\n\r\n/**\r\n * Cette permet de créer des options pour une liste déroulante de tous les utilisateurs\r\n * @returns array\r\n */\r\nexport const AllDataInOptionsNoException = () => {\r\n  var options = [];\r\n  allData.map((element) => {\r\n    return options.push({\r\n      value: element.generation + \"/\" + element.numberFamilly,\r\n      label: element.firstName + \" \" + element.lastName,\r\n    });\r\n  });\r\n  return options;\r\n};\r\n\r\nfunction trieArray(a, b) {\r\n  let anneeA = a.birthDate.split(\"/\")[2];\r\n  let anneeB = b.birthDate.split(\"/\")[2];\r\n  let moisA = a.birthDate.split(\"/\")[1];\r\n  let moisB = b.birthDate.split(\"/\")[1];\r\n  let jourA = a.birthDate.split(\"/\")[0];\r\n  let jourB = b.birthDate.split(\"/\")[0];\r\n  if (anneeA !== anneeB) {\r\n    return anneeA > anneeB ? 1 : -1;\r\n  }\r\n  if (moisA !== moisB) {\r\n    return moisA > moisB ? 1 : -1;\r\n  }\r\n  if (jourA !== jourB) {\r\n    return jourA > jourB ? 1 : -1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction trieArrayByBirthdate(a, b) {\r\n  if (a.birthDate !== b.birthDate) {\r\n    return a.birthDate > b.birthDate ? 1 : -1;\r\n  }\r\n  return 0;\r\n}\r\n\r\n/**\r\n * Cette fonction permet de renvoyer les personnes qui sont né durant le mois actuel. C'est pour afficher les anniversaires\r\n * @returns array\r\n */\r\nexport const MoisPersons = () => {\r\n  let data = [];\r\n  const now = new Date();\r\n  let moisAnnee =\r\n    now.getMonth() + 1 < 10\r\n      ? \"0\" + (now.getMonth() + 1).toString()\r\n      : (now.getMonth() + 1).toString();\r\n  allData.forEach((element) => {\r\n    if (element.birthDate.split(\"/\")[1] === moisAnnee) {\r\n      data.push(element);\r\n    }\r\n  });\r\n  data.sort(trieArrayByBirthdate);\r\n  return data;\r\n};\r\n\r\n/**\r\n * Cette fonction permet de récupérer uniquement les personnes d'une certaine génération. De plus il trie ce tableau par date de naissance\r\n * @param {correspond à la generation demandée} e\r\n * @returns array\r\n */\r\nexport const FilterByGeneration = (e, jeu = false) => {\r\n  let data = [];\r\n  if (jeu) {\r\n    let dataFiltred = FilterByPicture(allData);\r\n    dataFiltred.forEach((element) => {\r\n      if (element.generation === e) {\r\n        data.push(element);\r\n      }\r\n    });\r\n  } else {\r\n    allData.forEach((element) => {\r\n      if (element.generation === e) {\r\n        data.push(element);\r\n      }\r\n    });\r\n  }\r\n  data.sort(trieArray);\r\n  return data;\r\n};\r\n\r\n/**\r\n * Cette fonction permet de filtrer pour éviter les personnes qui n'ont pas de photo de profil\r\n * @returns array\r\n */\r\nconst FilterByPicture = () => {\r\n  const data = allData.filter(\r\n    (element) =>\r\n      element.pictureName !==\r\n        \"https://firebasestorage.googleapis.com/v0/b/demahieu-file.appspot.com/o/images%2Fnaruto-g5ac97839f_640.png?alt=media&token=89f220af-2915-4dcc-9fd7-6e69de09fe7c\" &&\r\n      element.pictureName !==\r\n        \"https://firebasestorage.googleapis.com/v0/b/demahieu-file.appspot.com/o/images%2Fhomme.PNG?alt=media&token=e9014335-a2b9-48a8-9732-f9997269b515\" &&\r\n      element.pictureName !==\r\n        \"https://firebasestorage.googleapis.com/v0/b/demahieu-file.appspot.com/o/images%2Ffemme.PNG?alt=media&token=1e2723b0-31a3-44de-a503-d2d7c0694e88\"\r\n  );\r\n  return data;\r\n};\r\n\r\n//fonction qui permet d'obtenir un nombre aléatoire entre 0 et max\r\n/*function getRandomInt(max) {\r\n  return Math.floor(Math.random() * max);\r\n}*/\r\n\r\nexport const RandomizeArray = () => {\r\n  let data = [];\r\n  let dataFiltred = FilterByPicture(allData);\r\n  data = randomize(dataFiltred);\r\n  return data;\r\n};\r\n\r\n//Cette fonction permet de mélanger les données dans un tableau\r\nexport function randomize(tab) {\r\n  var i, j, tmp;\r\n  for (i = tab.length - 1; i > 0; i--) {\r\n    j = Math.floor(Math.random() * (i + 1));\r\n    tmp = tab[i];\r\n    tab[i] = tab[j];\r\n    tab[j] = tmp;\r\n  }\r\n  return tab;\r\n}\r\n\r\nexport function getParentsArray(numberChildren) {\r\n  let tabParents = [];\r\n  let dataFinal = {};\r\n  while (tabParents.length === 0) {\r\n    let choix = Math.floor(Math.random() * 2);\r\n    let comparatif;\r\n    if (choix === 0) {\r\n      comparatif = numberChildren.slice(0, 2);\r\n    } else {\r\n      comparatif = numberChildren.slice(0, 2) + \"0\";\r\n    }\r\n    allData\r\n      .filter((element) => element.numberFamilly === comparatif)\r\n      .forEach((element) => {\r\n        tabParents.push(element);\r\n        dataFinal.goodAnswer = element;\r\n      });\r\n  }\r\n  let dataFiltred = FilterByPicture(allData);\r\n  const parents = dataFiltred.filter(\r\n    (element) =>\r\n      element.generation === \"3\" &&\r\n      element.numberFamilly !== numberChildren.slice(0, 2) &&\r\n      element.numberFamilly !== numberChildren.slice(0, 2) + \"0\"\r\n  );\r\n  let parentsRandom = randomize(parents);\r\n  for (let i = 0; i < 3; i++) {\r\n    tabParents.push(parentsRandom[i]);\r\n  }\r\n  let tabParentsRandom = randomize(tabParents);\r\n  dataFinal.tabParentsRandom = tabParentsRandom;\r\n  return dataFinal;\r\n}\r\n","import React from 'react';\r\nimport Select from 'react-select'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nconst SelectPerson = ({data}) => {\r\n    const history = useHistory();\r\n    const searchFamilly = (event) => {\r\n        if (event !== null){\r\n            history.push('/arbre/' + event.value);\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            <Select id=\"searchFamilly\" options={data} isClearable={true} isSearchable={true} onChange={searchFamilly} />\r\n        </>\r\n     );\r\n}\r\n \r\nexport default SelectPerson;","import React, { useEffect, useState } from 'react';\r\nimport TrombinoscopeFlex from '../Components/trombinoscopeFlex';\r\nimport fireBase from '../firebase';\r\nimport { MyFilter, DataInOptions, copyData, getData } from '../Functions/FilterData';\r\nimport SelectPerson from '../Components/selectPerson';\r\nimport {ACTUAL_GENERATION} from \"../constant\";\r\n\r\n\r\nconst Family = ({match}) => {\r\n\tconst [famillyFiltred, setFamillyFiltred] = useState([]);\r\n\tconst [generation, setGeneration] = useState(\"\");\r\n\tconst [options, setOptions] = useState([]);\r\n\t\r\n    useEffect(() => {\r\n\t\tvar numberFamilly = match.params.numberFamilly;\r\n\t\tvar generation = match.params.generation;\r\n\t\tsetGeneration(match.params.generation);\r\n\t\tif(generation === undefined || numberFamilly === undefined){\r\n\t\t\tnumberFamilly = 0;\r\n\t\t\tgeneration = \"1\";\r\n\t\t\tsetGeneration(\"1\")\r\n\t\t}\r\n        let dataStored = getData();\r\n        if(dataStored.length === 0){\r\n            fireBase.findAll()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tcopyData(data);\r\n\t\t\t\tconst FilterData = MyFilter(numberFamilly, generation);\r\n\t\t\t\tsetFamillyFiltred([]);\r\n\t\t\t\tsetFamillyFiltred(FilterData);\r\n        \t\tsetOptions(DataInOptions());\r\n\t\t\t\twindow.scroll(0, 0);\r\n\t\t\t})\r\n        }else{\r\n            const FilterData = MyFilter(numberFamilly, generation);\r\n\t\t\tsetOptions(DataInOptions());\r\n\t\t\tsetFamillyFiltred([]);\r\n\t\t\tsetFamillyFiltred(FilterData);\r\n\t\t\twindow.scroll(0, 0);\r\n        }\r\n    }, [match.params.generation, match.params.numberFamilly]);\r\n    return ( \r\n        <>\r\n\t\t\t<SelectPerson\r\n\t\t\t\tdata={options}\r\n\t\t\t/>\r\n\t\t\t{famillyFiltred[0] !== undefined &&\r\n\t\t\t\t<div>\r\n\t\t\t\t<h1 className='mb-0'>{famillyFiltred[0].famillyName}</h1>\r\n\t\t\t\t{\r\n\t\t\t\t\tfamillyFiltred[0].dateMariage !== undefined &&\r\n\t\t\t\t\t<h4 className='text-center mb-4'>{famillyFiltred[0].dateMariage}</h4>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tfamillyFiltred[0].dateMariage === undefined &&\r\n\t\t\t\t\t<br />\r\n\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<div className=\"containerFlexible\">\r\n\t\t\t{\r\n\t\t\t\tfamillyFiltred\r\n\t\t\t\t\t.filter(person => person.generation === generation)\r\n\t\t\t\t\t.map((person) => {\r\n\t\t\t\t\treturn <TrombinoscopeFlex\r\n\t\t\t\t\t\tperson = {person}\r\n\t\t\t\t\t\tkey={person.firstName + \"\" + person.famillyName}\r\n\t\t\t\t\t\tlink=\"#\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"containerFlexible\">\r\n\t\t\t{\r\n\t\t\t\tfamillyFiltred\r\n\t\t\t\t.filter(person => person.generation !== generation)\r\n\t\t\t\t.map((person) => {\r\n\t\t\t\t\treturn <TrombinoscopeFlex\r\n\t\t\t\t\t\tperson={person}\r\n\t\t\t\t\t\tkey={person.firstName + \"\" + person.famillyName}\r\n\t\t\t\t\t\tlink={person.generation === ACTUAL_GENERATION || person.generation === \"1\" ? \"#\" :  \"/arbre/\" + person.generation + \"/\" + person.numberFamilly }\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t)}\r\n\t\t\t</div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default Family;","import React, { useEffect, useState } from 'react';\r\nimport TrombinoscopeFlex from '../Components/trombinoscopeFlex';\r\nimport { MoisPersons, getData, copyData } from '../Functions/FilterData';\r\nimport {ACTUAL_GENERATION} from \"../constant\";\r\nimport fireBase from '../firebase';\r\n\r\n\r\nconst Anniversaire = () => {\r\n\tconst [famillyFiltred, setFamillyFiltred] = useState([]);\r\n    const [month, setMonth] = useState(\"\");\r\n    const [day, setDay] = useState(\"\");\r\n\t\r\n    useEffect(() => {\r\n        const months = [\r\n            'janvier',\r\n            'février',\r\n            'mars',\r\n            'avril',\r\n            'mai',\r\n            'juin',\r\n            'juillet',\r\n            'aout',\r\n            'septembre',\r\n            'octobre',\r\n            'novembre',\r\n            'décembre'\r\n          ]\r\n        let now = new Date();\r\n        setMonth(months[now.getMonth()]);\r\n        setDay(now.getDate());\r\n        let dataFinal;\r\n        let dataStored = getData();\r\n        if(dataStored.length === 0){\r\n            fireBase.findAll()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tcopyData(data);\r\n                dataFinal = MoisPersons();\r\n                setFamillyFiltred(dataFinal);\r\n\t\t\t})\r\n        }else{\r\n            dataFinal = MoisPersons();\r\n            setFamillyFiltred(dataFinal);\r\n        }\r\n    }, []);\r\n\r\n    return ( \r\n        <>\r\n            <div className=\"container\">\r\n\t\t\t    <h2 className=\"text-center mb-3\">{famillyFiltred.length} anniversaire(s) en {month}</h2>\r\n            </div>\r\n\t\t\t<div className=\"containerFlexible\">\r\n\t\t\t{\r\n\t\t\t\tfamillyFiltred !== undefined && \r\n                    famillyFiltred\r\n\t\t\t\t\t.map((person) => {\r\n\t\t\t\t\treturn <TrombinoscopeFlex\r\n                        person={person}\r\n\t\t\t\t\t\tkey={person.firstName + \"\" + person.famillyName}\r\n\t\t\t\t\t\tlink={person.generation === ACTUAL_GENERATION || person.generation === \"1\" ? \"#\" :  \"/\" + person.generation + \"/\" + person.numberFamilly }\r\n                        myBirthday={person.birthDate.split(\"/\")[0] === (day.toString() < 10 ? \"0\" + day.toString() : day.toString()) ? true : false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t)}\r\n\t\t\t</div>\r\n            <div>\r\n                <h2>Sous forme d'agenda</h2>\r\n                <iframe\r\n                    title=\"Agenda des anniversaires\"\r\n                    src=\"https://calendar.google.com/calendar/embed?src=family01141181756414071522%40group.calendar.google.com&ctz=Europe%2FBrussels\"\r\n                    width=\"100%\"\r\n                    height=\"500px\"\r\n                    scrolling=\"no\"\r\n                />\r\n            </div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default Anniversaire;","import React, {useEffect, useState} from 'react';\r\nimport { NavLink, useLocation } from \"react-router-dom\";\r\n\r\nconst NavBarGeneration = () => {\r\n    const [menuSelected, setMenuSelected] = useState(\"generation2\");\r\n\r\n    const changeMenuSelected = (menu) => {\r\n        setMenuSelected(menu);\r\n    }\r\n\r\n    const location = useLocation();\r\n    useEffect(() => {\r\n        setMenuSelected(location.pathname.substring(1));\r\n    }, [location]);\r\n\r\n    return ( \r\n        <>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark space-around\">\r\n                <NavLink onClick={() => changeMenuSelected(\"generation2\")} className=\"navbar-brand\" to=\"/generation2\">\r\n                    {menuSelected === \"generation2\" && <ion-icon name=\"reorder-two-sharp\"></ion-icon>}\r\n                    {menuSelected !== \"generation2\" && <ion-icon name=\"reorder-two-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"generation3\")} className=\"navbar-brand\" to=\"/generation3\">\r\n                    {menuSelected === \"generation3\" && <ion-icon name=\"reorder-three-sharp\"></ion-icon>}\r\n                    {menuSelected !== \"generation3\" && <ion-icon name=\"reorder-three-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"generation4\")} className=\"navbar-brand\" to=\"/generation4\">\r\n                    {menuSelected === \"generation4\" && <ion-icon name=\"reorder-four-sharp\"></ion-icon>}\r\n                    {menuSelected !== \"generation4\" && <ion-icon name=\"reorder-four-outline\"></ion-icon>}\r\n                </NavLink>\r\n            </nav>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default NavBarGeneration;","import React, { useEffect, useState } from 'react';\r\nimport TrombinoscopeFlex from '../Components/trombinoscopeFlex';\r\nimport { FilterByGeneration, getData, copyData } from '../Functions/FilterData';\r\nimport fireBase from '../firebase';\r\nimport NavBarGeneration from '../Components/navBar/navBarGenereation';\r\n\r\n\r\nconst Generation2 = () => {\r\n\tconst [famillyFiltred, setFamillyFiltred] = useState([]);\r\n\t\r\n    useEffect(() => {\r\n\t\tlet dataFinal;\r\n        let dataStored = getData();\r\n        if(dataStored.length === 0){\r\n            fireBase.findAll()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tcopyData(data);\r\n                dataFinal = FilterByGeneration(\"2\");\r\n                setFamillyFiltred(dataFinal);\r\n\t\t\t})\r\n        }else{\r\n            dataFinal = FilterByGeneration(\"2\");\r\n            setFamillyFiltred(dataFinal);\r\n        }\r\n    }, []);\r\n\r\n    return ( \r\n        <>\r\n            \r\n            <div className=\"container\">\r\n            <div className=\"d-block d-sm-block d-md-block d-lg-none\">\r\n                <NavBarGeneration />\r\n            </div>\r\n            \r\n\t\t\t    <h1 className=\"text-uppercase text-center\">La 2<sup className=\"text-lowercase\">ème</sup> génération</h1>\r\n                <h3 className=\"mb-4\">Il y a {famillyFiltred.length} personnes</h3>\r\n            </div>\r\n\t\t\t<div className=\"containerFlexible\">\r\n\t\t\t{\r\n\t\t\t\tfamillyFiltred\r\n\t\t\t\t\t.map((person) => {\r\n\t\t\t\t\treturn <TrombinoscopeFlex\r\n\t\t\t\t\t\tperson={person}\r\n\t\t\t\t\t\tkey={person.firstName + \"\" + person.famillyName}\r\n\t\t\t\t\t\tlink={\"/arbre/\" + person.generation + \"/\" + person.numberFamilly }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t)}\r\n\t\t\t</div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default Generation2;","import React, { useEffect, useState } from 'react';\r\nimport TrombinoscopeFlex from '../Components/trombinoscopeFlex';\r\nimport { FilterByGeneration, getData, copyData } from '../Functions/FilterData';\r\nimport fireBase from '../firebase';\r\nimport NavBarGeneration from '../Components/navBar/navBarGenereation';\r\n\r\n\r\nconst Generation3 = () => {\r\n\tconst [famillyFiltred, setFamillyFiltred] = useState([]);\r\n\t\r\n    useEffect(() => {\r\n\t\tlet dataFinal;\r\n        let dataStored = getData();\r\n        if(dataStored.length === 0){\r\n            fireBase.findAll()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tcopyData(data);\r\n                dataFinal = FilterByGeneration(\"3\");\r\n                setFamillyFiltred(dataFinal);\r\n\t\t\t})\r\n        }else{\r\n            dataFinal = FilterByGeneration(\"3\");\r\n            setFamillyFiltred(dataFinal);\r\n        }\r\n    }, []);\r\n\r\n    return ( \r\n        <>\r\n            <div className=\"container\">\r\n\t\t\t\t<div className=\"d-block d-sm-block d-md-block d-lg-none\">\r\n\t\t\t\t\t<NavBarGeneration />\r\n\t\t\t\t</div>\r\n\t\t\t    <h1 className=\"text-uppercase text-center\">La 3<sup className=\"text-lowercase\">ème</sup> génération</h1>\r\n                <h3 className=\"mb-4\">Il y a {famillyFiltred.length} personnes</h3>\r\n            </div>\r\n\t\t\t<div className=\"containerFlexible\">\r\n\t\t\t{\r\n\t\t\t\tfamillyFiltred\r\n\t\t\t\t\t.map((person) => {\r\n\t\t\t\t\treturn <TrombinoscopeFlex\r\n\t\t\t\t\t\tperson={person}\r\n\t\t\t\t\t\tkey={person.firstName + \"\" + person.famillyName}\r\n\t\t\t\t\t\tlink={\"/arbre/\" + person.generation + \"/\" + person.numberFamilly } \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t)}\r\n\t\t\t</div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default Generation3;","import React, { useEffect, useState } from 'react';\r\nimport TrombinoscopeFlex from '../Components/trombinoscopeFlex';\r\nimport { FilterByGeneration, getData, copyData } from '../Functions/FilterData';\r\nimport fireBase from '../firebase';\r\nimport NavBarGeneration from '../Components/navBar/navBarGenereation';\r\n\r\n\r\nconst Generation4 = () => {\r\n\tconst [famillyFiltred, setFamillyFiltred] = useState([]);\r\n\t\r\n    useEffect(() => {\r\n        let dataFinal;\r\n        let dataStored = getData();\r\n        if(dataStored.length === 0){\r\n            fireBase.findAll()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tcopyData(data);\r\n                dataFinal = FilterByGeneration(\"4\");\r\n                setFamillyFiltred(dataFinal);\r\n\t\t\t})\r\n        }else{\r\n            dataFinal = FilterByGeneration(\"4\");\r\n            setFamillyFiltred(dataFinal);\r\n        }\r\n    }, []);\r\n\r\n    return ( \r\n        <>\r\n            <div className=\"container\">\r\n\t\t\t\t<div className=\"d-block d-sm-block d-md-block d-lg-none\">\r\n\t\t\t\t\t<NavBarGeneration />\r\n\t\t\t\t</div>\r\n\t\t\t    <h1 className=\"text-uppercase text-center\">La 4<sup className=\"text-lowercase\">ème</sup> génération</h1>\r\n                <h3 className=\"mb-4\">Il y a {famillyFiltred.length} personnes</h3>\r\n            </div>\r\n\t\t\t<div className=\"containerFlexible\">\r\n\t\t\t{\r\n\t\t\t\tfamillyFiltred\r\n\t\t\t\t\t.map((person) => {\r\n\t\t\t\t\treturn <TrombinoscopeFlex\r\n\t\t\t\t\t\tperson={person}\r\n\t\t\t\t\t\tkey={person.firstName + \"\" + person.famillyName}\r\n\t\t\t\t\t\tdateDeces={person.deathDate}\r\n\t\t\t\t\t\tlink={\"/arbre/3/\" + Math.round(person.numberFamilly/10) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t)}\r\n\t\t\t</div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default Generation4;","import React, {useEffect, useState} from 'react';\r\nimport { NavLink, useLocation } from \"react-router-dom\";\r\n\r\nconst NavBarJeux = () => {\r\n    const [menuSelected, setMenuSelected] = useState(\"jeu2\");\r\n\r\n    const changeMenuSelected = (menu) => {\r\n        setMenuSelected(menu);\r\n    }\r\n\r\n    const location = useLocation();\r\n    useEffect(() => {\r\n        setMenuSelected(location.pathname.substring(1));\r\n    }, [location]);\r\n\r\n    return ( \r\n        <>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark space-around\">\r\n                <NavLink onClick={() => changeMenuSelected(\"generation2\")} className=\"navbar-brand\" to=\"/jeu2\">\r\n                    {menuSelected === \"jeu2\" && <ion-icon name=\"rocket\"></ion-icon>}\r\n                    {menuSelected !== \"jeu2\" && <ion-icon name=\"rocket-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"generation3\")} className=\"navbar-brand\" to=\"/jeu\">\r\n                    {menuSelected === \"jeu\" && <ion-icon name=\"baseball\"></ion-icon>}\r\n                    {menuSelected !== \"jeu\" && <ion-icon name=\"baseball-outline\"></ion-icon>}\r\n                </NavLink>\r\n            </nav>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default NavBarJeux;","import React, { useEffect, useState,useRef } from 'react';\r\nimport { RandomizeArray, getData, copyData } from '../Functions/FilterData';\r\nimport fireBase from '../firebase';\r\nimport NavBarJeux from '../Components/navBar/navBarJeux';\r\n\r\nconst Jeu = () => {\r\n\r\n    const maximum = 20;\r\n    const [person, setPerson] = useState([]);\r\n    const [personSelected, setPersonSelected] = useState([]);\r\n    const [score, setScore] = useState(0);\r\n    const [total, setTotal] = useState(0);\r\n    const [selectValue, setSelectValue] = useState(\"\");\r\n    const [indice, setIndice] = useState(false);\r\n    const [index, setIndex] = useState(0);\r\n    const [goodAnswer, setGoodAnswer] = useState(\"\");\r\n    const [level, setLevel] = useState(0);\r\n    const [imageRef] = useState(React.createRef());\r\n    const [imageHorizontal, setImageHorizontal] = useState(\"imageVerticale\");\r\n    const inputReference = useRef(null);\r\n\r\n    function VerifyAnswer () {\r\n        if(selectValue.toLowerCase().replace(/\\s+/g, '') === personSelected.firstName.toLowerCase().replace(/\\s+/g, '')){   \r\n            if(indice){\r\n                setScore(score+0.5);\r\n            }else{\r\n                setScore(score+1);\r\n            }\r\n            setGoodAnswer(\"\");\r\n        }else {\r\n            setGoodAnswer(personSelected.firstName);\r\n        }\r\n        nextPerson()\r\n        setIndice(false);\r\n        if(total !== person.length){\r\n            setTotal(total + 1);\r\n        }\r\n        setSelectValue(\"\");\r\n        inputReference.current.focus();\r\n    }\r\n\r\n    function TryAgain() {\r\n        ChooseData();\r\n        setGoodAnswer(\"\");\r\n        setIndex(0);\r\n    }\r\n\r\n    function nextPerson(){\r\n        let monIndex = index;\r\n        setIndex(index+1);\r\n        monIndex = monIndex +1;\r\n        setPersonSelected(person[monIndex]);\r\n    }\r\n\r\n    function GiveIndice(){\r\n        setIndice(true);\r\n    }\r\n\r\n    function ChangeLevel(e){\r\n        if(level === 0){\r\n            setLevel(1);\r\n        }else{\r\n            setLevel(0);\r\n        }\r\n    }\r\n\r\n    function ChooseData(){\r\n        let data = RandomizeArray();\r\n        let dataFiltred = [];\r\n        if(level === 1){\r\n            data.forEach((element) => {\r\n                if (element.generation === \"4\") {\r\n                    dataFiltred.push(element);\r\n                }\r\n              });\r\n              setTotal(0);\r\n              setScore(0);\r\n              setPerson(dataFiltred);\r\n              setPersonSelected(dataFiltred[0]);\r\n        }else {\r\n            setTotal(0);\r\n            setScore(0);\r\n            setPerson(data);\r\n            setPersonSelected(data[0]);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        let dataStored = getData();\r\n        if(dataStored.length === 0){\r\n            fireBase.findAll()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tcopyData(data);\r\n                let dataFinal = RandomizeArray();\r\n                let dataFiltred = [];\r\n                if(level === 1){\r\n                    dataFinal.forEach((element) => {\r\n                        if (element.generation === \"4\") {\r\n                            dataFiltred.push(element);\r\n                        }\r\n                    });\r\n                    setTotal(0);\r\n                    setScore(0);\r\n                    setPerson(dataFiltred);\r\n                    setPersonSelected(dataFiltred[0]);\r\n                }else {\r\n                    setTotal(0);\r\n                    setScore(0);\r\n                    setPerson(dataFinal);\r\n                    setPersonSelected(dataFinal[0]);\r\n                }\r\n\t\t\t})\r\n        }else{\r\n            let dataFinal = RandomizeArray();\r\n            let dataFiltred = [];\r\n            if(level === 1){\r\n                dataFinal.forEach((element) => {\r\n                    if (element.generation === \"4\") {\r\n                        dataFiltred.push(element);\r\n                    }\r\n                });\r\n                setTotal(0);\r\n                setScore(0);\r\n                setPerson(dataFiltred);\r\n                setPersonSelected(dataFiltred[0]);\r\n            }else {\r\n                setTotal(0);\r\n                setScore(0);\r\n                setPerson(dataFinal);\r\n                setPersonSelected(dataFinal[0]);\r\n            }\r\n        }\r\n        inputReference.current.focus();\r\n    }, [level]);\r\n\r\n    const changeDimension = () => {\r\n        if(imageRef.current.naturalHeight > imageRef.current.naturalWidth){\r\n            setImageHorizontal(\"imageVerticale\")\r\n        }else{\r\n            setImageHorizontal(\"containerFlexible imageHorizontale\")\r\n        }\r\n    }\r\n\r\n    return(\r\n    <>\r\n        <div className=\"container\">\r\n            <div className=\"d-block d-sm-block d-md-block d-lg-none\">\r\n                <NavBarJeux />\r\n            </div>\r\n            {!personSelected &&\r\n                <h2>Les données arrivent. Soyez patient</h2>\r\n            }\r\n            {personSelected && total !== maximum &&\r\n                <div className=\"text-center\">\r\n                    <h2 className=\"text-center mt-3\">Quel est mon prénom ?</h2>\r\n                    <div className={imageHorizontal}><img ref={imageRef} src={personSelected.pictureName} alt={personSelected.firstName} onLoad={changeDimension}/></div>\r\n                    {indice && <h2>{personSelected.lastName}</h2>}\r\n                    <div className=\"form-group mt-4\">\r\n                        <input type=\"text\" ref={inputReference} value={selectValue} onKeyPress={(e) => {if (e.key === \"Enter\") {VerifyAnswer();}\r\n                    }} onChange={e => setSelectValue(e.target.value)} />\r\n                    </div>\r\n                    <div className='containerFlexible'>\r\n                        <div className='elementFlexible'>\r\n                            <button onClick={VerifyAnswer} className=\"btn btn-primary mt-3\">Vérifier</button>\r\n                        </div>\r\n                        <div className='elementFlexible'>\r\n                            <button onClick={GiveIndice} className=\"btn btn-secondary mt-3\">indice</button>\r\n                        </div>\r\n                        <div className='elementFlexible'>\r\n                            <button onClick={ChangeLevel} className=\"btn btn-danger mt-3\">{level === 0 ? \"Difficile\" : \"Facile\" }</button>\r\n                        </div>\r\n                    </div>\r\n                        \r\n                    <h3 className='mt-3'>Votre score : {score} sur {total}</h3>\r\n                    {goodAnswer &&\r\n                        <p>Son prénom était {goodAnswer}</p>\r\n                    }\r\n                </div>\r\n            }\r\n            {total === maximum &&\r\n                <div>\r\n                    <h1>Bravo tu as obtenu {score} sur {total}</h1>\r\n                    <button onClick={TryAgain} className=\"btn btn-primary mt-3\">Recommencer</button>\r\n                </div>\r\n            }\r\n            \r\n            \r\n        </div>\r\n    </>\r\n    );\r\n}\r\n \r\nexport default Jeu;\r\n","import React from 'react';\r\nimport Select from 'react-select'\r\n\r\n\r\nconst SelectModifyPerson = ({data, modifyPerson, isClearable = true}) => {\r\n    const searchFamilly = (event) => {\r\n        if(event !== null){\r\n            modifyPerson(event.value)\r\n        }else{\r\n            modifyPerson(null);\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            <Select id=\"searchFamilly\" options={data} isClearable={isClearable} isSearchable={true} onChange={searchFamilly} />\r\n        </>\r\n     );\r\n}\r\n \r\nexport default SelectModifyPerson;","import React, { useState} from 'react';\r\nimport { Carousel } from 'react-bootstrap';\r\nimport { getRefPicture, changePictureProfil } from '../firebase';\r\n\r\nconst ControlledCarousel = ({person, id}) => {\r\n    const [index, setIndex] = useState(0);\r\n  \r\n    const handleSelect = (selectedIndex, e) => {\r\n      setIndex(selectedIndex);\r\n    };\r\n\r\n    const DeletePicture = (photo) => {\r\n        var res = window.confirm(\"Cette photo sera supprimé définitivement. Êtes-vous sûr de vouloir la supprimer ?\");\r\n        if(res) {\r\n            getRefPicture(photo, id).then(() => {\r\n                window.location.reload(false);\r\n            })\r\n        }\r\n    }\r\n\r\n    const ChoosePicture = (photo) => {\r\n        changePictureProfil(id, photo).then(() => {\r\n            window.location.reload(false);\r\n        })\r\n    }\r\n\r\n    return ( \r\n        <Carousel activeIndex={index} onSelect={handleSelect} indicators={false}>\r\n            {\r\n            person.PhotosHistory && person.PhotosHistory.map((photo) => {\r\n                    return (\r\n                    <Carousel.Item key={photo}>\r\n                        <div className='float'>\r\n                        {\r\n                            person.pictureName !== photo &&\r\n                            <>\r\n                                <ion-icon class=\"myIcon\" size=\"large\" name=\"trash-outline\" onClick={() => DeletePicture(photo)}></ion-icon>\r\n                                <ion-icon class=\"myIcon\" size=\"large\" name=\"star-outline\" onClick={() => ChoosePicture(photo)}></ion-icon>\r\n                            </>\r\n                        }\r\n                        {\r\n                            person.pictureName === photo &&\r\n                            <ion-icon class=\"myIcon\" size=\"large\" name=\"star-sharp\" onClick={() => ChoosePicture(photo)}></ion-icon>\r\n                        }\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-center\">\r\n                                <img\r\n                                className=\"d-block\"\r\n                                src={photo}\r\n                                alt={\"Slide n° \" + index}\r\n                                />\r\n                        </div>\r\n                </Carousel.Item>)\r\n            })}\r\n      </Carousel>\r\n     );\r\n}\r\n \r\nexport default ControlledCarousel;","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst SpinnerBootstrap = () => {\r\n    return (\r\n        <>\r\n        <Spinner animation=\"border\" role=\"status\">\r\n        </Spinner>\r\n        <span>Loading data</span>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default SpinnerBootstrap;","import React, {useState} from 'react';\r\nimport { MyFilter } from '../../Functions/FilterData';\r\nimport { CreateUserFireBase } from '../../firebase';\r\n\r\n\r\nconst ModalAddPoeple = ({personSelect}) => {\r\n    let generation = personSelect.generation*1 + 1;\r\n    let numberOfChildrens = MyFilter(personSelect.numberFamilly, personSelect.generation).filter((person) => person.generation === \"\" + generation).length;\r\n    let numberChildren = personSelect.numberFamilly*10 + numberOfChildrens +1;\r\n    const [data, setData] = useState({famillyName: personSelect.famillyName, lastName : \"\", firstName: \"\", birthDate : \"\", numberFamilly : \"\" + numberChildren, generation : \"\"+generation, dateMariage: \"\"});\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    const handleChangeRadio = (e) => {\r\n        let numberPartner = personSelect.numberFamilly*10;\r\n        let numberOfChildrens = MyFilter(personSelect.numberFamilly, personSelect.generation).filter((person) => person.generation === person.generation + 1).length;\r\n        \r\n        let numberChildren = personSelect.numberFamilly*10 + numberOfChildrens +1;\r\n        let numberFamilly = parseInt(data.numberFamilly) === numberChildren ? numberPartner : numberChildren;\r\n        let generation = parseInt(data.generation) === personSelect.generation*1 + 1 ? personSelect.generation : personSelect.generation*1 + 1;\r\n        setData({\r\n            ...data,\r\n            \"numberFamilly\": \"\" + numberFamilly,\r\n            \"generation\" : \"\" + generation\r\n        });\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            <div className=\"modal fade\" id=\"addPeople\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Ajouter une personne dans ma famille</h5>\r\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <div className=\"form-group\">\r\n                            <label>Nom</label>\r\n                            <input className=\"form-control\" name='lastName' placeholder=\"Nom...\" onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Prénom</label>\r\n                            <input className=\"form-control\" name='firstName' placeholder=\"Prénom...\" onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Date de naissance (avec / entre les nombres)</label>\r\n                            <input className=\"form-control\" name='birthDate' placeholder=\"Date de naissance...\" onChange={handleChange}/>\r\n                        </div>\r\n                        <div className=\"form-check form-switch\">\r\n                            <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" onChange={handleChangeRadio} />\r\n                           <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\">Change si tu ajoutes un(e) conjoint(e)</label>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>L'image s'ajoute juste après la création</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                        <button type=\"button\" className=\"btn btn-success\" data-dismiss=\"modal\" onClick={() => CreateUserFireBase(data).then(() => {window.location.reload(false)})}>Ajouter</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default ModalAddPoeple","import React, {useContext, useState, useEffect} from 'react';\r\nimport '../App.css';\r\nimport fireBase from '../firebase';\r\nimport { storage } from '../firebase';\r\nimport {UserContext} from '../Components/Providers/UserProvider';\r\nimport { AllDataInOptions, FindOnePersonByNumberFamilly, FindOnePersonByEmail, ChildrenInOptions } from '../Functions/FilterData';\r\nimport SelectPerson from '../Components/selectModifyPerson';\r\nimport { getData, copyData } from '../Functions/FilterData';\r\nimport Compressor from 'compressorjs';\r\nimport ControlledCarousel from '../Components/CarouselBootstrap'\r\nimport SpinnerBootstrap from '../Components/spinnerBootstrap';\r\nimport { ACTUAL_GENERATION } from '../constant';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport ModalAddPeople from '../Components/modal/modalAddPeople';\r\n\r\nconst ConfirmEmail = () => {\r\n\r\n    const [emailUser, setEmailUser] = useState(\"\");\r\n    const [options, setOptions] = useState([]);\r\n    const [message, setMessage] = useState(\"\");\r\n    const [id, setId] = useState(\"\");\r\n    const [picture, setPicture] = useState(\"\");\r\n    const [confirmedAccount, setConfirmedAccount] = useState(true);\r\n    const [pictureChanged, setPictureChanged] = useState(false);\r\n    const [myClass, setMyClass] = useState(\"backCard\");\r\n    const [dataCharged, setDataCharged] = useState(\"\");\r\n    const [personSelect, setPersonSelect] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    \r\n    const value = useContext(UserContext);\r\n\r\n    const addEmailUser = () => {\r\n        personSelect.email = emailUser;\r\n        fireBase.ModifyUserFireBase(id, personSelect).then(() => {\r\n            setMessage(\"Votre adresse a bien été ajoutée.\");\r\n            window.location.reload();\r\n          })\r\n          .catch((error) => {\r\n            setMessage(\"Error writing document: \" + error);\r\n          });\r\n    }\r\n\r\n    const handleCompressedUpload = (e) => {\r\n        const { name } = e.target;\r\n        const image = e.target.files[0];\r\n        setPersonSelect({\r\n            ...personSelect,\r\n            [name]: image\r\n        });\r\n        \r\n        new Compressor(image, {\r\n          quality: 0.5, // 0.6 can also be used, but its not recommended to go below.\r\n          success: (compressedResult) => {\r\n            // compressedResult has the compressed file.\r\n            // Use the compressed file to upload the images to your server.\r\n            setPicture(compressedResult);\r\n            setPictureChanged(true);\r\n          },\r\n        });\r\n      };\r\n\r\n    const modifyPersonSelect = (e) => {\r\n        window.scroll(0,0);\r\n        if(e !== null){\r\n            let numberFamilly = e.split('/')[1];\r\n            const person = FindOnePersonByNumberFamilly(numberFamilly);\r\n            if(person.email === undefined){\r\n                person.email = \"\";\r\n            }\r\n            setPersonSelect(person);\r\n            fireBase.FindIdPerson(numberFamilly)\r\n            .then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.id)\r\n\t\t\t\tsetId(data[0]);\r\n\t\t\t});\r\n        }\r\n        setMyClass(\"backCard\");\r\n    }\r\n\r\n    const modifyPerson = () => {\r\n        setLoading(true);\r\n        if(!pictureChanged){\r\n            fireBase.ModifyUserFireBase(id, personSelect).then(() => {\r\n                setMessage(\"Vos données ont bien été modifiées\");\r\n                window.location.reload(false);\r\n              })\r\n              .catch((error) => {\r\n                setMessage(\"Error writing document: \" + error);\r\n              });\r\n        }else{\r\n            const uploadTask = storage.ref(`images/${picture.name}`).put(picture);\r\n            uploadTask.on(\r\n                \"state_changed\",\r\n                snapshot => {},\r\n                error => {\r\n                    setMessage(\"Error writing document: \" + error);\r\n                },\r\n                () => {\r\n                    storage\r\n                        .ref(\"images\")\r\n                        .child(picture.name)\r\n                        .getDownloadURL()\r\n                        .then(pictureName => {\r\n                            fireBase.ModifyUserFireBase(id, personSelect, pictureName).then(() => {\r\n                                    setMessage(\"Vos données ont bien été modifiées\");\r\n                                    window.location.reload(false);\r\n                                })\r\n                                .catch((error) => {\r\n                                setMessage(\"Error writing document: \" + error);\r\n                                });\r\n                        });\r\n                }\r\n            )\r\n        }\r\n        setMyClass(\"frontCard\");\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setPersonSelect({\r\n            ...personSelect,\r\n            [name]: value\r\n        });\r\n    };\r\n    \r\n    useEffect(() => {\r\n        const ChargeData = () => {\r\n            let userMail;\r\n            if(value !== null){\r\n                userMail = value.email;\r\n                setEmailUser(value.email);\r\n                fireBase.FindEmailPerson(userMail)\r\n                .then(querySnapshot => {\r\n                    const data = querySnapshot.docs.map(doc => doc.id);\r\n                    if(data[0] !== undefined){\r\n                        setId(data[0]);\r\n                        setConfirmedAccount(true);\r\n                        const person = FindOnePersonByEmail(userMail);\r\n                        if(person !== undefined){\r\n                            setPersonSelect(person);\r\n                            setOptions(ChildrenInOptions(person.numberFamilly, person.generation))\r\n                        }\r\n                        setDataCharged(value);\r\n                    }else {\r\n                        setOptions(AllDataInOptions());\r\n                        setConfirmedAccount(false);\r\n                        setDataCharged(value);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        let dataStored = getData();\r\n        if(dataStored.length === 0){\r\n            fireBase.findAll()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tcopyData(data);\r\n                ChargeData();\r\n\t\t\t})\r\n        }else{\r\n            ChargeData();\r\n        }\r\n    },[value]);\r\n\r\n    return ( \r\n        <>\r\n            <div className='container mt-4'>\r\n            {\r\n                dataCharged === \"\" &&\r\n                <div>\r\n                    <h2>Les données arrivent. Soyez patient</h2>\r\n                </div>\r\n            }\r\n            {\r\n                dataCharged !== \"\" && !confirmedAccount &&\r\n                <div>\r\n                    <p>Votre adresse mail : <span className='email'>{emailUser}</span></p>\r\n                    <p>Ce sera votre adresse pour modifier vos données</p>\r\n                    <p>Trouve ton nom dans la liste pour ajouter ton adresse mail à ton compte</p>\r\n                    <div className=\"alert alert-danger\" role=\"alert\">\r\n                        Ne te trompe surtout pas\r\n                    </div>\r\n                    <SelectPerson\r\n                        data={options}\r\n                        modifyPerson={modifyPersonSelect}\r\n                    />\r\n                    \r\n                    <button className='btn btn-success mt-4 mb-4' onClick={addEmailUser}>Valider</button>\r\n                    <div className={'alert alert-success ' + myClass} role=\"alert\">\r\n                        <p>{message}</p>\r\n                    </div>\r\n                </div>\r\n            }\r\n            {\r\n                dataCharged !== \"\" && confirmedAccount &&\r\n                <div>\r\n                    <h2>Votre profil</h2>\r\n                    {\r\n                        personSelect.status === \"admin\" && \r\n                        <NavLink className=\"navbar-brand\" to=\"/admin/users\"><button className='btn btn-info text-white'>Admin</button></NavLink>\r\n                    }\r\n                    {\r\n                        personSelect.generation !== ACTUAL_GENERATION &&\r\n                        <div className=\"form-group\">\r\n                            <label>Date de mariage</label>\r\n                            <input className=\"form-control\" name='dateMariage' value={personSelect.dateMariage || ''} placeholder=\"Date de mariage\" onChange={handleChange}/>\r\n                        </div>\r\n                    }\r\n                    <div className=\"form-group\">\r\n                        <label>Nom</label>\r\n                        <input className=\"form-control\" name='lastName' value={personSelect.lastName || ''} placeholder=\"Nom...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Prénom</label>\r\n                        <input className=\"form-control\" name='firstName' value={personSelect.firstName || ''} placeholder=\"Prénom...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Date de naissance</label>\r\n                        <input className=\"form-control\" name='birthDate'  value={personSelect.birthDate || ''} placeholder=\"Date de naissance...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Email</label>\r\n                        <input className=\"form-control\" name='email' value={personSelect.email === undefined ? \"\" : personSelect.email} placeholder=\"Email...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Image profil</label>\r\n                        <input className=\"form-control\" name='pictureName' type=\"file\" onChange={handleCompressedUpload} />\r\n                    </div>\r\n                    <div className=\"row align-items-center mb-4\">\r\n                    {\r\n                        !loading && \r\n                        <div className=\"col-sm mt-4\">\r\n                            <button className=\"btn btn-secondary m-4\" onClick={modifyPerson} >\r\n                                Modifier\r\n                            </button>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        !loading && \r\n                        <div className=\"col-sm\">\r\n                            <button className=\"btn btn-primary m-4\" data-toggle=\"modal\" data-target=\"#addPeople\" >\r\n                                Ajouter une personne\r\n                            </button>\r\n                        </div>\r\n                    }\r\n\r\n\r\n                    {\r\n                        loading && \r\n                        <div className=\"col-sm mt-4\">\r\n                            <SpinnerBootstrap />\r\n                        </div>\r\n                    }\r\n                    </div>\r\n                    <ModalAddPeople personSelect={personSelect} />\r\n                    <div className={'alert alert-success ' + myClass} role=\"alert\">\r\n                        <p>{message}</p>\r\n                    </div>\r\n                    {\r\n                        options.length !== 1 && \r\n                        <div>\r\n                            <h4>Pour modifier une personne de votre famille, sélectionne-le dans la liste ci-dessous</h4>\r\n                            <SelectPerson\r\n                                data={options}\r\n                                modifyPerson={modifyPersonSelect}\r\n                                isClearable={false}\r\n                            />\r\n                        </div>\r\n                    }\r\n                    {\r\n                        personSelect.PhotosHistory && \r\n                        <>\r\n                            <h2 className='mt-4 mb-0'>Votre historique photo</h2>\r\n                            <ControlledCarousel \r\n                                person={personSelect}\r\n                                id={id}\r\n                            />\r\n                        </>\r\n                    }\r\n                </div>\r\n            }\r\n            </div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default ConfirmEmail;","import React, {useState, useEffect} from 'react';\r\nimport { NavLink, useLocation } from \"react-router-dom\";\r\nimport Firebase from \"../../firebase\";\r\n\r\nconst NavBarMobile = () => {\r\n    const [menuSelected, setMenuSelected] = useState(\"\");\r\n\r\n    const changeMenuSelected = (menu) => {\r\n        setMenuSelected(menu);\r\n    }\r\n    const location = useLocation();\r\n    useEffect(() => {\r\n        setMenuSelected(location.pathname.substring(1));\r\n    }, [location]);\r\n\r\n    return ( \r\n        <>\r\n            <nav id=\"MyModification\" className=\"navbar navbar-expand-lg navbar-dark\">\r\n                <NavLink onClick={() => changeMenuSelected(\"\")} className=\"navbar-brand\" to=\"/\">\r\n                    {(menuSelected === \"\" || menuSelected.includes(\"event\")) && <ion-icon name=\"home-sharp\"></ion-icon>}\r\n                    {menuSelected !== \"\" && !menuSelected.includes(\"event\") && <ion-icon name=\"home-outline\"></ion-icon>}  \r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"anniversaire\")} className=\"navbar-brand\" to=\"/anniversaire\">\r\n                    {menuSelected === \"anniversaire\" && <ion-icon name=\"balloon-sharp\"></ion-icon>}\r\n                    {menuSelected !== \"anniversaire\" && <ion-icon name=\"balloon-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"generation\")} className=\"navbar-brand\" to=\"/generation2\">\r\n                    {menuSelected.includes(\"generation\") && <ion-icon name=\"list-sharp\"></ion-icon>}\r\n                    {!menuSelected.includes(\"generation\") && <ion-icon name=\"list-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"jeu\")} className=\"navbar-brand\" to=\"/jeu2\">\r\n                    {menuSelected.includes(\"jeu\") && <ion-icon name=\"game-controller-sharp\"></ion-icon>}\r\n                    {!menuSelected.includes(\"jeu\") && <ion-icon name=\"game-controller-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"arbre\")} className=\"navbar-brand\" to=\"/arbre\">\r\n                    {menuSelected.includes(\"arbre\") && <ion-icon name=\"git-network\"></ion-icon>}\r\n                    {!menuSelected.includes(\"arbre\") && <ion-icon name=\"git-network-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"profil\")} className=\"navbar-brand\" to=\"/profil\">\r\n                    {menuSelected === \"profil\" && <ion-icon name=\"person-sharp\"></ion-icon>}\r\n                    {menuSelected !== \"profil\" && <ion-icon name=\"person-outline\"></ion-icon>}\r\n                </NavLink>\r\n                {(localStorage.getItem(\"email\") === null || localStorage.getItem(\"email\") === \"\") &&\r\n                    <button\r\n                        className=\"buttonConnexion navbar-brand text-right\" onClick = {() => {Firebase.signInWithGoogle()}}>\r\n                        <ion-icon name=\"log-in-outline\"></ion-icon>\r\n                    </button>\r\n                }\r\n                {localStorage.getItem(\"email\") !== null && localStorage.getItem(\"email\") !== \"\" &&\r\n                    <button\r\n                        className=\"buttonConnexion navbar-brand text-right\" onClick = {() => {Firebase.Disconnect()}}>\r\n                        <ion-icon name=\"log-out-outline\"></ion-icon>\r\n                    </button>\r\n                }\r\n            </nav>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default NavBarMobile;","import React, { useState} from 'react';\r\nimport { modifyPhotosInEvent } from '../../firebase';\r\n\r\n\r\nconst ModalAddComment = ({id, picturesList, index}) => {\r\n    const [data, setData] = useState(\"\");\r\n    const writeComment = (e) => {\r\n        if(e!== null){\r\n            const { value } = e.target;\r\n            setData(value);\r\n        }\r\n    }\r\n\r\n    const getData = () => {\r\n        picturesList[index].comment = data;\r\n        modifyPhotosInEvent(id, picturesList).then(() => {\r\n            window.location.reload(false);\r\n        })\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            <div className=\"modal fade\" id=\"addComment\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Ajouter un commentaire</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"form-group\">\r\n                        <label>Votre commentaire</label>\r\n                        <input className=\"form-control\" placeholder=\"Votre commentaire\" name=\"commentaire\" onChange={writeComment} required></input>\r\n                    </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                    <button type=\"button\" className=\"btn btn-success\" data-dismiss=\"modal\" onClick={getData}>{picturesList[index] && picturesList[index].comment ? \"Modifier\": \"Créer\"}</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default ModalAddComment","import React, { useState} from 'react';\r\nimport Compressor from 'compressorjs';\r\nimport { UpdateEvent } from '../../firebase';\r\nimport { storage } from '../../firebase';\r\n\r\n\r\nconst ModalEditEvent = ({title, date, pictureName, id, setLoading}) => {\r\n    const [data, setData] = useState({titre : title, date: date, pictureName: pictureName});\r\n    const [pictureChanged, setPictureChanged] = useState(false);\r\n\r\n    const chooseTitle = (e) => {\r\n        if(e!== null){\r\n            const { name, value } = e.target;\r\n            setData({\r\n                ...data,\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    const chooseDate = (e) => {\r\n        if(e!== null){\r\n            const { name, value } = e.target;\r\n            setData({\r\n                ...data,\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    const handleCompressedUpload = (e) => {\r\n        setPictureChanged(true);\r\n        const { name } = e.target;\r\n        const image = e.target.files[0];\r\n        \r\n        new Compressor(image, {\r\n          quality: 0.5, // 0.6 can also be used, but its not recommended to go below.\r\n          success: (compressedResult) => {\r\n            // compressedResult has the compressed file.\r\n            // Use the compressed file to upload the images to your server.\r\n            setData({\r\n                ...data,\r\n                [name]: compressedResult\r\n            });\r\n          },\r\n        });\r\n      };\r\n\r\n    const getData = () => {\r\n        setLoading(true);\r\n        if(pictureChanged){\r\n            let picture = data.pictureName;\r\n            const uploadTask = storage.ref(`evenements/${picture.name}`).put(picture);\r\n            uploadTask.on(\r\n                \"state_changed\",\r\n                snapshot => {},\r\n                error => {\r\n                    console.log(\"Error writing document: \" + error);\r\n                },\r\n                () => {\r\n                    storage\r\n                        .ref(\"evenements\")\r\n                        .child(picture.name)\r\n                        .getDownloadURL()\r\n                        .then(pictureName => {\r\n                            UpdateEvent(data, id, pictureName).then(() => {\r\n                                window.location.reload(false);\r\n                                })\r\n                                .catch((error) => {\r\n                                console.log(\"Error writing document: \" + error);\r\n                                });\r\n                        });\r\n                }\r\n            )\r\n        }else {\r\n            UpdateEvent(data, id, data.pictureName).then(() => {\r\n                window.location.reload(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            <div className=\"modal fade\" id=\"editEvent\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"editEventLabel\">Modifier l'événement</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"form-group\">\r\n                        <label>Changer le titre</label>\r\n                        <input className=\"form-control\" value={data.titre} placeholder=\"Titre de l'événement\" name=\"titre\" onChange={chooseTitle} required></input>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Changer la date</label>\r\n                        <input className=\"form-control\" value={data.date} type=\"date\" name=\"date\" onChange={chooseDate} required></input>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className='mb-2'>Changer l'image</label>\r\n                        <input className=\"form-control\" name='pictureName' type=\"file\" onChange={handleCompressedUpload} />          \r\n                    </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                    <button type=\"button\" className=\"btn btn-success\" data-dismiss=\"modal\" onClick={getData}>Changer</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default ModalEditEvent;","import React, { useEffect, useState} from 'react';\r\nimport { AddElementInPhoto, modifyPhotosInEvent } from '../../firebase';\r\n\r\n\r\nconst ModalAddLink = ({id, userId, index, picturesList}) => {\r\n    const [data, setData] = useState({title : index !== -1 ? picturesList[index].texte : \"\", link: index !== -1 ? picturesList[index].link : \"\"});\r\n    \r\n    const chooseTitle = (e) => {\r\n        if(e!== null){\r\n            const { name, value } = e.target;\r\n            setData({\r\n                ...data,\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    const chooseLink = (e) => {\r\n        if(e!== null){\r\n            const { name, value } = e.target;\r\n            setData({\r\n                ...data,\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    const getData = () => {\r\n        AddElementInPhoto(id, data, userId, \"link\").then(() => {\r\n            window.location.reload(false);\r\n        })\r\n    }\r\n\r\n    const updateData = () => {\r\n        console.log(id);\r\n        picturesList[index].link = data.link\r\n        picturesList[index].texte = data.title\r\n        modifyPhotosInEvent(id, picturesList).then(() => {\r\n            window.location.reload(false);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setData({title : index !== -1 && picturesList[index].texte ? picturesList[index].texte : \"\", link: index !== -1 && picturesList[index].link ? picturesList[index].link : \"\"})\r\n    }, [index, picturesList])\r\n\r\n    return ( \r\n        <>\r\n            <div className=\"modal fade\" id=\"addLink\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Ajouter un lien</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"form-group\">\r\n                        <label>Texte à afficher</label>\r\n                        <input className=\"form-control\" value={data.title} placeholder=\"texte à afficher\" name=\"title\" onChange={chooseTitle} required></input>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Lien web</label>\r\n                        <input className=\"form-control\" value={data.link} placeholder=\"lien web\" name=\"link\" onChange={chooseLink} required></input>\r\n                    </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                    <button type=\"button\" className=\"btn btn-success\" data-dismiss=\"modal\" onClick={index === -1 ? getData : updateData}>{index === -1 ? \"Ajouter\" : \"changer\"}</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default ModalAddLink","import React, {useState} from 'react';\r\nimport '../App.css';\r\nimport moment from 'moment';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AddElementInPhoto, DeleteEvent } from '../firebase';\r\nimport Compressor from 'compressorjs';\r\nimport { storage } from '../firebase';\r\nimport SpinnerBootstrap from './spinnerBootstrap';\r\nimport ModalAddComment from './modal/modalAddComment';\r\nimport { modifyPhotosInEvent } from '../firebase';\r\nimport ModalEditEvent from './modal/modalEditEvent';\r\nimport ModalAddLink from './modal/modalAddLink';\r\n\r\nconst EventFlex = ({event, id=null, userId=null}) => {\r\n    const [pictures, setPictures] = useState([]);\r\n    const history = useHistory();\r\n    const [className, setClassName] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [index, setIndex] = useState(-1);\r\n    const [upload, setUpload] = useState(\"\");\r\n\r\n    const handleCompressedUpload = (e) => {\r\n        const images = e.target.files;\r\n        let imagesCompress = [];\r\n        for(var i = 0; i < images.length; i++){\r\n            let image = images[i];\r\n            new Compressor(image, {\r\n                quality: 0.5, // 0.6 can also be used, but its not recommended to go below.\r\n                success: (compressedResult) => {\r\n                    imagesCompress.push(compressedResult)\r\n                },\r\n            });\r\n        }\r\n        setUpload(\"images\");\r\n        setPictures(imagesCompress);\r\n        setClassName(true);\r\n      };\r\n\r\n    const videoUpload = (e) => {\r\n        let imagesCompress = [];\r\n        imagesCompress.push(e.target.files[0])\r\n        setPictures(imagesCompress);\r\n        setClassName(true);\r\n        setUpload(\"video\");\r\n    }\r\n\r\n    const sendPicture = (data) => {\r\n        let file = \"\";\r\n        if(data === \"images\"){\r\n            file = \"evenements\"\r\n        }else if (data === \"video\"){\r\n            file = \"videos\"\r\n        }\r\n        setClassName(false);\r\n        setLoading(true);\r\n        var counter = pictures.length-1;\r\n        pictures.forEach(picture => {\r\n            const uploadTask = storage.ref(`${file}/${picture.name}`).put(picture);\r\n            uploadTask.on(\r\n                \"state_changed\",\r\n                snapshot => {},\r\n                error => {\r\n                    console.log(error);\r\n                },\r\n                () => {\r\n                    storage\r\n                        .ref(file)\r\n                        .child(picture.name)\r\n                        .getDownloadURL()\r\n                        .then(pictureName => {\r\n                            AddElementInPhoto(id, pictureName, userId, data).then(() => {\r\n                                counter--;\r\n                                if(counter <= 0){\r\n                                    window.location.reload(false);\r\n                                }\r\n                            });\r\n                        });\r\n                }\r\n            )\r\n        });\r\n    }\r\n\r\n    const ConfirmDelete = (id, info, index = null, data = null) => {\r\n        var res = window.confirm(\"Êtes-vous sûr de vouloir supprimer?\");\r\n        if(res) {\r\n            switch (info) {\r\n            case \"event\" : \r\n                DeleteEvent(id);\r\n                break;\r\n            case \"pictureEvent\" :\r\n                DeletePicture(index, data, id);\r\n                break;\r\n            default :\r\n                console.log(\"Pas encore implémenté\")\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    const DeletePicture = (index, picturesList, id) => {\r\n        picturesList.splice(index, 1);\r\n        modifyPhotosInEvent(id, picturesList).then(() => {\r\n            window.location.reload(false);\r\n        });\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            <div className='text-center'>\r\n                    <h4>{event.value.Titre}</h4>\r\n                    <h6>{moment.unix(event.value.Date.seconds).format(\"DD/MM/YYYY\")}</h6>\r\n                    {id && \r\n                        <div>\r\n                            <img src={event.value.PhotoEvent} alt={event.value.Titre} />\r\n                            {\r\n                                userId && event.value.Created_By === userId &&\r\n                                <>\r\n                                    <ion-icon class=\"myIcon\" name=\"create-outline\" data-toggle=\"modal\" data-target=\"#editEvent\"></ion-icon>\r\n                                    <ModalEditEvent title={event.value.Titre} date={moment.unix(event.value.Date.seconds).format(\"YYYY-MM-DD\")} pictureName={event.value.PhotoEvent} id={id} setLoading={setLoading} />\r\n                                </>\r\n                            }\r\n                            <div className=\"row align-items-center mb-4\">\r\n                                {\r\n                                    !loading && \r\n                                    <div className=\"col-sm space-around containerFlexible \">\r\n                                        <div className=\"form-group mt-2\">\r\n                                            <label className='mb-2 image-upload containerFlexible'><ion-icon class=\"myIcon\" size=\"large\" name=\"images\"></ion-icon>\r\n                                                <input className=\"form-control\" name='pictureName' type=\"file\" multiple onChange={handleCompressedUpload} />\r\n                                                <p className='d-none d-sm-none d-md-block'>Images</p>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div className=\"form-group mt-2\">\r\n                                            <label className='mb-2 image-upload containerFlexible'><ion-icon class=\"myIcon\" size=\"large\" name=\"videocam\"></ion-icon>\r\n                                                <input className=\"form-control\" name='pictureName' type=\"file\" onChange={videoUpload} />\r\n                                                <p className='d-none d-sm-none d-md-block'>Vidéo</p>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div className=\"form-group mt-2 containerFlexible\" data-toggle=\"modal\" data-target=\"#addLink\">\r\n                                            <ion-icon class=\"myIcon\" size=\"large\" name=\"link\" onClick={() => setIndex(-1)}></ion-icon>\r\n                                            <p className='d-none d-sm-none d-md-block'>lien</p>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                {\r\n                                    className && \r\n                                    <div className=\"col-sm\">\r\n                                        <button className='btn btn-primary mt-4 mb-3' onClick={() => sendPicture(upload)}>\r\n                                            Ajouter {upload === \"images\" ? \"les images\" : upload === \"video\" ? \"la vidéo\" : \"zut\"}\r\n                                        </button>\r\n                                    </div>\r\n                                }\r\n                                {\r\n                                    loading && \r\n                                    <div className=\"col-sm mt-4\">\r\n                                        <SpinnerBootstrap />\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                            <h4>Les photos de l'event</h4>\r\n                            <div className='containerFlexible center'>\r\n                            {\r\n                                event.value.Photos.map((photo, index) => {\r\n                                    return (\r\n                                    <div className='m-1' key={index}>\r\n                                        <div>\r\n                                            {\r\n                                                photo.image && \r\n                                                <img className='pictureEvent' src={photo.image} alt=\"lié à l'event\" />\r\n                                            }\r\n                                            {\r\n                                                photo.video &&\r\n                                                <video width=\"320\" height=\"240\" controls>\r\n                                                 <source src={photo.video} type=\"video/mp4\" />\r\n                                                </video>\r\n                                            }\r\n                                            {\r\n                                                photo.link &&\r\n                                                <><h1 className='mb-2'>Lien Web : </h1><a className='linkEvent' rel=\"noreferrer\" target=\"_blank\" href={photo.link}><h3>{photo.texte}</h3></a></>\r\n                                            }\r\n                                            {\r\n                                                userId && userId === photo.Added_by &&\r\n                                                <div>\r\n                                                    {\r\n                                                        photo.link && \r\n                                                        <ion-icon  class=\"myIcon\" name=\"pencil-outline\" data-toggle=\"modal\" data-target=\"#addLink\" onClick={() => setIndex(index)}></ion-icon>\r\n                                                    }\r\n                                                    {\r\n                                                        !photo.link && \r\n                                                        <ion-icon  class=\"myIcon\" name=\"pencil-outline\" data-toggle=\"modal\" data-target=\"#addComment\" onClick={() => setIndex(index)}></ion-icon>\r\n                                                    }\r\n                                                    \r\n                                                    <ion-icon class=\"myIcon\" name=\"trash-outline\" onClick={() => ConfirmDelete(id, \"pictureEvent\", index, event.value.Photos)}></ion-icon>\r\n                                                </div>\r\n                                            }\r\n                                        </div>\r\n                                        {\r\n                                            photo.comment && \r\n                                            <p className='mb-1'>{photo.comment}</p>\r\n                                        }\r\n                                    </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                            </div>\r\n                            <ModalAddComment id={id} picturesList={event.value.Photos} index={index} />\r\n                            <ModalAddLink id={id} userId={userId} index={index} picturesList={event.value.Photos} />\r\n                        </div>\r\n                    }\r\n                    {!id &&\r\n                        <div>\r\n                            <button className=\"myButton mb-3\" onClick={() => history.push(\"/event/\" + event.id)}><img src={event.value.PhotoEvent} alt={event.value.Titre} /></button>\r\n                            {event.value.Created_By === userId && \r\n                                <div className='mb-3' >\r\n                                    <button className='btn btn-danger' onClick={() => ConfirmDelete(event.id, \"event\")}>Supprimer</button>\r\n                                </div>\r\n                                \r\n                            }\r\n                        </div>\r\n                    }\r\n            </div>   \r\n        </>\r\n     );\r\n}\r\n \r\nexport default EventFlex;","import React, { useState} from 'react';\r\nimport Compressor from 'compressorjs';\r\nimport { CreateEvent, storage } from '../../firebase';\r\nimport SpinnerBootstrap from '../spinnerBootstrap';\r\n\r\n\r\nconst ModalCreateEvent = ({userId}) => {\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const chooseTitle = (e) => {\r\n        if(e!== null){\r\n            const { name, value } = e.target;\r\n            setData({\r\n                ...data,\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    const chooseDate = (e) => {\r\n        if(e!== null){\r\n            const { name, value } = e.target;\r\n            setData({\r\n                ...data,\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    const handleCompressedUpload = (e) => {\r\n        const { name } = e.target;\r\n        const image = e.target.files[0];\r\n        \r\n        new Compressor(image, {\r\n          quality: 0.5, // 0.6 can also be used, but its not recommended to go below.\r\n          success: (compressedResult) => {\r\n            // compressedResult has the compressed file.\r\n            // Use the compressed file to upload the images to your server.\r\n            setData({\r\n                ...data,\r\n                [name]: compressedResult\r\n            });\r\n          },\r\n        });\r\n      };\r\n\r\n    const getData = () => {\r\n        setLoading(true);\r\n        let picture = data.pictureName;\r\n        const uploadTask = storage.ref(`evenements/${picture.name}`).put(picture);\r\n            uploadTask.on(\r\n                \"state_changed\",\r\n                snapshot => {},\r\n                error => {\r\n                    console.log(\"Error writing document: \" + error);\r\n                },\r\n                () => {\r\n                    storage\r\n                        .ref(\"evenements\")\r\n                        .child(picture.name)\r\n                        .getDownloadURL()\r\n                        .then(pictureName => {\r\n                            CreateEvent(data, pictureName, userId).then(() => {\r\n                                window.location.reload(false);\r\n                                })\r\n                                .catch((error) => {\r\n                                console.log(\"Error writing document: \" + error);\r\n                                });\r\n                        });\r\n                }\r\n            )\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            {\r\n                loading && \r\n                <div className='mb-3'>\r\n                    <SpinnerBootstrap />\r\n                </div>\r\n            }\r\n            {\r\n                !loading &&\r\n                <button type=\"button\" className=\"btn btn-primary mr-3\" data-toggle=\"modal\" data-target=\"#exampleModalCreate\">\r\n                    Créer un événement\r\n                </button>\r\n            }\r\n            <div className=\"modal fade\" id=\"exampleModalCreate\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Créer l'événement</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"form-group\">\r\n                        <label>Titre de l'événement</label>\r\n                        <input className=\"form-control\" placeholder=\"Titre de l'événement\" name=\"titre\" onChange={chooseTitle} required></input>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Date de l'événement</label>\r\n                        <input className=\"form-control\" type=\"date\" name=\"date\" onChange={chooseDate} required></input>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className='mb-2'>Ajouter une image</label>\r\n                        <input className=\"form-control\" name='pictureName' type=\"file\" onChange={handleCompressedUpload} />          \r\n                    </div>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                    <button type=\"button\" className=\"btn btn-success\" data-dismiss=\"modal\" onClick={getData}>Créer</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default ModalCreateEvent;","import React, { useEffect, useState } from 'react';\r\nimport { getEvents } from '../firebase';\r\nimport EventFlex from '../Components/eventsFlex';\r\nimport { useParams } from \"react-router-dom\";\r\nimport ModalCreateEvent from '../Components/modal/modalCreateEvent';\r\nimport { getUserData } from '../Functions/cache';\r\nimport { PutDataLocalStorage } from '../firebase';\r\n\r\nconst ListeEvenements = () => {\r\n    const [events, setEvents] = useState([]);\r\n    const {id} = useParams();\r\n    const [className, setClassName] = useState(\"d-none\");\r\n    const [userId, setUserId] = useState();\r\n\t\r\n    useEffect(() => {\r\n        window.scroll(0, 0);\r\n        const userId = getUserData().id;\r\n        if(userId === undefined){\r\n            PutDataLocalStorage(localStorage.getItem(\"email\")).then((result) => {\r\n                if(result === undefined || result.id === undefined){\r\n                    setClassName(\"d-none\")\r\n                }else {\r\n                    setClassName(\"d-block\");\r\n                    setUserId(result.id);                \r\n                }\r\n            });\r\n        }else {\r\n            setClassName(\"d-block\");\r\n            setUserId(userId);\r\n        }\r\n        getEvents().then((querySnapshot) => {\r\n            let data = [];\r\n            querySnapshot.forEach((doc) => {\r\n                data.push({\"id\": doc.id, \"value\": doc.data()});\r\n            });\r\n            setEvents(data);\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"Error getting documents: \", error);\r\n        });\r\n    }, [id]);\r\n\r\n    return ( \r\n        <>\r\n            {!id &&\r\n                <>\r\n                    <h1 className=\"text-center mb-3 moreSize\">Fil d'actualité</h1>\r\n                    <div className={'text-center mb-3 ' + className }>\r\n                        <ModalCreateEvent\r\n                            userId={userId}\r\n                        />\r\n                    </div>\r\n                    {\r\n                         events.map((event) => {\r\n                            return(\r\n                                <EventFlex key={event.id} event={event} userId={userId} />\r\n                            )\r\n                        })\r\n                    }\r\n                </>\r\n            }\r\n            {id && \r\n                events.filter((event) => event.id === id).map((event) => {\r\n                    return(\r\n                        <EventFlex key={event.id} event={event} id={id} userId={userId} />\r\n                    )\r\n                })\r\n            }\r\n\t\t\t\r\n        </>\r\n     );\r\n}\r\n \r\nexport default ListeEvenements;","import React, {useEffect, useState} from 'react';\r\nimport { NavLink, useLocation } from \"react-router-dom\";\r\n\r\nconst NavBarAdmin = () => {\r\n    const [menuSelected, setMenuSelected] = useState(\"admin/users\");\r\n\r\n    const changeMenuSelected = (menu) => {\r\n        setMenuSelected(menu);\r\n    }\r\n\r\n    const location = useLocation();\r\n    useEffect(() => {\r\n        setMenuSelected(location.pathname.substring(1));\r\n    }, [location]);\r\n\r\n    return ( \r\n        <>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark space-around\">\r\n                <NavLink onClick={() => changeMenuSelected(\"admin/users\")} className=\"navbar-brand\" to=\"/admin/users\">\r\n                    {menuSelected === \"admin/users\" && <ion-icon name=\"person-add\"></ion-icon>}\r\n                    {menuSelected !== \"admin/users\" && <ion-icon name=\"person-add-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"admin/pictures\")} className=\"navbar-brand\" to=\"/admin/pictures\">\r\n                    {menuSelected === \"admin/pictures\" && <ion-icon name=\"images\"></ion-icon>}\r\n                    {menuSelected !== \"admin/pictures\" && <ion-icon name=\"images-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"admin/emails\")} className=\"navbar-brand\" to=\"/admin/emails\">\r\n                    {menuSelected === \"admin/emails\" && <ion-icon name=\"mail\"></ion-icon>}\r\n                    {menuSelected !== \"admin/emails\" && <ion-icon name=\"mail-outline\"></ion-icon>}\r\n                </NavLink>\r\n                <NavLink onClick={() => changeMenuSelected(\"admin/export\")} className=\"navbar-brand\" to=\"/admin/export\">\r\n                    {menuSelected === \"admin/export\" && <ion-icon name=\"settings\"></ion-icon>}\r\n                    {menuSelected !== \"admin/export\" && <ion-icon name=\"settings-outline\"></ion-icon>}\r\n                </NavLink>\r\n            </nav>\r\n        </>\r\n     );\r\n}\r\n \r\nexport default NavBarAdmin;","import React, { useEffect, useState } from 'react';\r\nimport { getUserData } from '../../Functions/cache';\r\nimport { AllDataInOptionsNoException, FindOnePersonByNumberFamilly } from '../../Functions/FilterData';\r\nimport { CreateUserFireBase } from '../../firebase';\r\nimport fireBase from '../../firebase';\r\nimport { storage } from '../../firebase';\r\nimport SelectPerson from '../../Components/selectModifyPerson';\r\nimport Compressor from 'compressorjs';\r\nimport SpinnerBootstrap from '../../Components/spinnerBootstrap';\r\nimport ControlledCarousel from '../../Components/CarouselBootstrap';\r\nimport NavBarAdmin from '../../Components/navBar/navBarAdmin';\r\n\r\n\r\nconst AdminCreateUser = () => {\r\n    const [personStatus, setPersonStatus] = useState(\"\");\r\n    const [picture, setPicture] = useState(\"\");\r\n    const [options, setOptions] = useState([]);\r\n    const [message, setMessage] = useState(\"\");\r\n    const [create, setCreate] = useState(true);\r\n    const [pictureChanged, setPictureChanged] = useState(false);\r\n    const [id, setId] = useState(\"\");\r\n    const [personSelect, setPersonSelect] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [myClass, setMyClass] = useState(\"backCard\");\r\n\r\n    function CreateUser() {\r\n        if(picture === \"\"){\r\n            CreateUserFireBase(personSelect).then(() => {\r\n                setMessage(personSelect.firstName + \" \" + personSelect.lastName + \" a bien été enregistré\");\r\n                RefreshField();\r\n              })\r\n              .catch((error) => {\r\n                setMessage(\"Error writing document: \" + error);\r\n              });\r\n        }else{\r\n            const uploadTask = storage.ref(`images/${picture.name}`).put(picture);\r\n            uploadTask.on(\r\n                \"state_changed\",\r\n                snapshot => {},\r\n                error => {\r\n                    console.log(error);\r\n                },\r\n                () => {\r\n                    storage\r\n                        .ref(\"images\")\r\n                        .child(picture.name)\r\n                        .getDownloadURL()\r\n                        .then(pictureName => {\r\n                            CreateUserFireBase(personSelect, pictureName).then(() => {\r\n                                setMessage(personSelect.firstName + \" \" + personSelect.lastName + \" a bien été enregistré\");\r\n                                RefreshField();\r\n                                })\r\n                                .catch((error) => {\r\n                                setMessage(\"Error writing document: \" + error);\r\n                                });\r\n                        });\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    const modifyPersonSelect = (e) => {\r\n        setLoading(false);\r\n        setMessage(\"vide\");\r\n        window.scroll(0,0);\r\n        setCreate(false);\r\n        if(e !== null){\r\n            let numberFamilly = e.split('/')[1];\r\n            const person = FindOnePersonByNumberFamilly(numberFamilly);\r\n            if(person.email === undefined){\r\n                person.email = \"\";\r\n            }\r\n            setPersonSelect(person);\r\n            fireBase.FindIdPerson(numberFamilly)\r\n            .then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.id)\r\n\t\t\t\tsetId(data[0]);\r\n\t\t\t});\r\n        }else{\r\n            RefreshField();\r\n        }\r\n        setMyClass(\"backCard\");\r\n    }\r\n\r\n    const ModifyUser = () => {\r\n        setLoading(true);\r\n        if(!pictureChanged){\r\n            fireBase.ModifyUserFireBase(id, personSelect).then(() => {\r\n                setMessage(\"Vos données ont bien été modifiées\");\r\n              })\r\n              .catch((error) => {\r\n                setMessage(\"Error writing document: \" + error);\r\n              });\r\n        }else{\r\n            const uploadTask = storage.ref(`images/${picture.name}`).put(picture);\r\n            uploadTask.on(\r\n                \"state_changed\",\r\n                snapshot => {},\r\n                error => {\r\n                    setMessage(\"Error writing document: \" + error);\r\n                },\r\n                () => {\r\n                    storage\r\n                        .ref(\"images\")\r\n                        .child(picture.name)\r\n                        .getDownloadURL()\r\n                        .then(pictureName => {\r\n                            fireBase.ModifyUserFireBase(id, personSelect, pictureName).then(() => {\r\n                                    setMessage(\"Vos données ont bien été modifiées\");\r\n                                })\r\n                                .catch((error) => {\r\n                                setMessage(\"Error writing document: \" + error);\r\n                                });\r\n                        });\r\n                }\r\n            )\r\n        }\r\n        setMyClass(\"frontCard\");\r\n    }\r\n\r\n    function RefreshField (){\r\n        setPersonSelect([]);\r\n        setCreate(true);\r\n    }\r\n\r\n    const handleCompressedUpload = (e) => {\r\n        const { name } = e.target;\r\n        const image = e.target.files[0];\r\n        setPersonSelect({\r\n            ...personSelect,\r\n            [name]: image\r\n        });\r\n        \r\n        new Compressor(image, {\r\n          quality: 0.5, // 0.6 can also be used, but its not recommended to go below.\r\n          success: (compressedResult) => {\r\n            // compressedResult has the compressed file.\r\n            // Use the compressed file to upload the images to your server.\r\n            setPicture(compressedResult);\r\n            setPictureChanged(true);\r\n          },\r\n        });\r\n      };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setPersonSelect({\r\n            ...personSelect,\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const userData = getUserData();\r\n        if(userData.data !== undefined){\r\n            setPersonStatus(userData.data.status);\r\n        }\r\n        setOptions(AllDataInOptionsNoException());\r\n    }, []);\r\n\r\n    return ( \r\n        <>\r\n            \r\n            {\r\n                (!personStatus || personStatus !== \"admin\") && \r\n                <div>Bien essayé mais tu n'as pas le droit de venir ici</div>\r\n            }\r\n            {\r\n                personStatus && personStatus === \"admin\" && \r\n                <>\r\n                    <NavBarAdmin />\r\n                    <h1>Gestion des utilisateurs</h1>\r\n                    <h6>Pour modifier une personne, sélectionne la dans la liste ci-dessous</h6>\r\n                    <SelectPerson\r\n                        data={options}\r\n                        modifyPerson={modifyPersonSelect}\r\n                    />\r\n                    <div className=\"form-group\">\r\n                        <label>Nom de famille (souvent nom mari - épouse)</label>\r\n                        <input className=\"form-control\" name='famillyName' value={personSelect.famillyName || ''} placeholder=\"Nom de famille...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Date de mariage</label>\r\n                        <input className=\"form-control\" name='dateMariage' value={personSelect.dateMariage || ''} placeholder=\"Date de mariage\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Nom</label>\r\n                        <input className=\"form-control\" name='lastName' value={personSelect.lastName || ''} placeholder=\"Nom...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Prénom</label>\r\n                        <input className=\"form-control\" name='firstName' value={personSelect.firstName || ''} placeholder=\"Prénom...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Date de naissance</label>\r\n                        <input className=\"form-control\" name='birthDate'  value={personSelect.birthDate || ''} placeholder=\"Date de naissance...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Email</label>\r\n                        <input className=\"form-control\" name='email' value={personSelect.email === undefined ? \"\" : personSelect.email} placeholder=\"Email...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Numéro de famille (important)</label>\r\n                        <input className=\"form-control\" name='numberFamilly' value={personSelect.numberFamilly || ''} type=\"number\" placeholder=\"numéro de famille...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Génération (important)</label>\r\n                        <input className=\"form-control\" name='generation' value={personSelect.generation || ''} placeholder=\"génération...\" onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Image profil</label>\r\n                        <input className=\"form-control\" name='pictureName' type=\"file\" onChange={handleCompressedUpload} />\r\n                    </div>\r\n                    <div className=\"row align-items-center mb-4\">\r\n                        {create && !loading && \r\n                            <div className=\"col-sm mt-4\">\r\n                                <button className=\"btn btn-primary m-4\" onClick={CreateUser}>\r\n                                    créer\r\n                                </button>\r\n                            </div>\r\n                        }\r\n                        {!create && !loading && \r\n                            <div className=\"col-sm mt-4\">\r\n                                <button className=\"btn btn-secondary m-4\" onClick={ModifyUser}>\r\n                                    Modifier\r\n                                </button>\r\n                            </div>\r\n                        }\r\n                        {\r\n                            loading && \r\n                            <div className=\"col-sm mt-4\">\r\n                                <SpinnerBootstrap />\r\n                            </div>\r\n                        }\r\n                        <div className={'alert alert-success ' + myClass} role=\"alert\">\r\n                            <p>{message}</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        personSelect.PhotosHistory && \r\n                        <>\r\n                            <h2 className='mt-4 mb-0'>Votre historique photo</h2>\r\n                            <ControlledCarousel \r\n                                person={personSelect}\r\n                                id={id}\r\n                            />\r\n                        </>\r\n                    }\r\n            </>\r\n            }\r\n        </>\r\n     );\r\n}\r\n \r\nexport default AdminCreateUser;","import React, { useEffect, useState } from 'react';\r\nimport NavBarAdmin from '../../Components/navBar/navBarAdmin';\r\nimport { storage } from '../../firebase';\r\nimport { deletePicture } from '../../firebase';\r\nimport { getUserData } from '../../Functions/cache';\r\n\r\n\r\nconst AdminGestionPicture = () => {\r\n    const [personStatus, setPersonStatus] = useState(\"\");\r\n    const [picturesList, setPicturesList] = useState([]);\r\n    const [dataChanged, setDataChanged] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setPicturesList([]);\r\n        var listRef = storage.ref().child('images/');\r\n        listRef.listAll()\r\n        .then((res) => {\r\n            res.items.forEach((itemRef) => {\r\n                itemRef.getDownloadURL().then(pictureName => {\r\n                    setPicturesList(arr => [...arr, pictureName])\r\n                });\r\n            });\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n        listRef = storage.ref().child('evenements/');\r\n        listRef.listAll()\r\n        .then((res) => {\r\n            res.items.forEach((itemRef) => {\r\n                itemRef.getDownloadURL().then(pictureName => {\r\n                    setPicturesList(arr => [...arr, pictureName])\r\n                });\r\n            });\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n        const userData = getUserData();\r\n        if(userData.data !== undefined){\r\n            setPersonStatus(userData.data.status);\r\n        }\r\n    }, [dataChanged])\r\n\r\n    const DeletePicture = (pictureName) => {\r\n        deletePicture(pictureName).then(() => {\r\n            setDataChanged(!dataChanged);\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            {\r\n                (!personStatus || personStatus !== \"admin\") && \r\n                <div>Bien essayé mais tu n'as pas le droit de venir ici</div>\r\n            }\r\n            {\r\n                personStatus && personStatus === \"admin\" &&\r\n                <>\r\n                    <NavBarAdmin />\r\n                    <h1>Gestion des images</h1>\r\n                    <p>Nombre d'images : {picturesList.length}</p>\r\n                    <div className='containerFlexible'>\r\n                    {\r\n                    picturesList.map((pictureName, index) => {\r\n                        return (\r\n                            <div className='text-center' key={index}>\r\n                                <img className='pictureAdmin' src={pictureName} alt={pictureName} />\r\n                                <ion-icon class=\"myIcon\" name=\"trash-outline\" onClick={() => DeletePicture(pictureName)}></ion-icon>\r\n                            </div>)\r\n                    })}\r\n                    </div>\r\n                </>\r\n            }\r\n        </>\r\n     );\r\n}\r\n \r\nexport default AdminGestionPicture;","import React, { useEffect, useState } from 'react';\r\nimport { FilterByGeneration, getData, copyData, randomize, getParentsArray } from '../Functions/FilterData';\r\nimport fireBase from '../firebase';\r\nimport NavBarJeux from '../Components/navBar/navBarJeux';\r\n\r\nconst Jeu2 = () => {\r\n    const maximum = 20;\r\n    const [generation4, setGeneration4] = useState([]);\r\n    const [parentsList, setParentsList] = useState([]);\r\n    const [score, setScore] = useState(0);\r\n    const [personSelected, setPersonSelected] = useState([]);\r\n    const [index, setIndex] = useState(0);\r\n    const [total, setTotal] = useState(0);\r\n    const [message, setMessage] = useState(\"\");\r\n    const [goodAnswer, setGoodAnswer] = useState(\"\");\r\n    const [colorMessage, setColorMessage] = useState(\"dark\");\r\n\r\n    const CheckResponse = (parent) => {\r\n        if(parent.numberFamilly === personSelected.numberFamilly.slice(0, 2) || parent.numberFamilly === personSelected.numberFamilly.slice(0, 2) + \"0\"){\r\n            setScore(score + 1);\r\n            setTotal(total + 1);\r\n            nextPerson();\r\n            setMessage(\"Bravo ! \" + personSelected.firstName + \" est bien le fils ou la fille de \" + parent.firstName);\r\n            setColorMessage(\"success\")\r\n            window.scroll(0, 0);\r\n        }else{\r\n            nextPerson();\r\n            setTotal(total + 1);\r\n            setMessage(\"Raté ! Le papa ou la maman de \" + personSelected.firstName + \" est \" + goodAnswer.firstName);\r\n            setColorMessage(\"danger\")\r\n            window.scroll(0, 0);\r\n        }\r\n    }\r\n\r\n    function TryAgain() {\r\n        window.location.reload(false);\r\n    }\r\n\r\n    function nextPerson(){\r\n        let monIndex = index;\r\n        setIndex(index+1);\r\n        monIndex = monIndex +1;\r\n        setPersonSelected(generation4[monIndex]);\r\n        const dataReturned = getParentsArray(generation4[monIndex].numberFamilly);\r\n        setGoodAnswer(dataReturned.goodAnswer)\r\n        setParentsList(dataReturned.tabParentsRandom)\r\n    }\r\n\r\n    useEffect(() => {\r\n        let dataStored = getData();\r\n        if(dataStored.length === 0){\r\n            fireBase.findAll()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tcopyData(data);\r\n                let dataFinal = FilterByGeneration(\"4\", true);\r\n                let dataRandom = randomize(dataFinal)\r\n                setGeneration4(dataRandom);\r\n                setPersonSelected(dataRandom[0]);\r\n                const dataReturned = getParentsArray(dataRandom[0].numberFamilly);\r\n                setGoodAnswer(dataReturned.goodAnswer)\r\n                setParentsList(dataReturned.tabParentsRandom)\r\n\t\t\t})\r\n        }else{\r\n            let dataFinal = FilterByGeneration(\"4\", true);\r\n            let dataRandom = randomize(dataFinal)\r\n            setGeneration4(dataRandom);\r\n            setPersonSelected(dataRandom[0]);\r\n            setPersonSelected(dataRandom[0]);\r\n            const dataReturned = getParentsArray(dataRandom[0].numberFamilly);\r\n            setGoodAnswer(dataReturned.goodAnswer)\r\n            setParentsList(dataReturned.tabParentsRandom)\r\n        }\r\n\r\n    }, []);\r\n\r\n    return(\r\n    <>\r\n        <div className=\"container\">\r\n            <div className=\"d-block d-sm-block d-md-block d-lg-none\">\r\n                <NavBarJeux />\r\n            </div>\r\n            {\r\n                total === maximum &&\r\n                <>\r\n                    <h1>Bravo tu as obtenu {score} sur {maximum}</h1>\r\n                    <button onClick={TryAgain} className=\"btn btn-primary mt-3\">Recommencer</button>\r\n                </>\r\n            }\r\n            {\r\n                total < maximum && \r\n                <>\r\n                <h2 className='text-center mt-3'>Qui est mon papa ou ma maman ?</h2>\r\n                <p className='text-center'>Score : {score} / {maximum}</p>\r\n                <p className={'text-center text-' + colorMessage}>{message} </p>\r\n                {\r\n                    personSelected.pictureName &&\r\n                    <div className='text-center mb-3'>\r\n                        <img src={personSelected.pictureName} alt='Personne selectionnée' />\r\n                    </div>\r\n                }\r\n                <h4 className='text-center'>Les choix possibles</h4>\r\n                <div className='containerFlexible space-around'>\r\n                    {parentsList.length !== 0 && parentsList.map((parent, index) => {\r\n                        return (<div key={index}><img className='imageJeu2' src={parent.pictureName} alt='Parents selectionnés' onClick={() => CheckResponse(parent)} /></div>)\r\n                    })}\r\n                </div>\r\n                </>\r\n            }\r\n        </div>\r\n    </>\r\n    );\r\n}\r\n \r\nexport default Jeu2;\r\n","import React, {useState, useEffect} from 'react';\r\nimport NavBarAdmin from '../../Components/navBar/navBarAdmin';\r\nimport SelectPerson from '../../Components/selectModifyPerson';\r\nimport { addEmail, changeStatus, getEmailInOption, AddEmailAddressWithCSV, deleteEmailFirebase } from '../../firebase';\r\nimport { getUserData } from '../../Functions/cache';\r\nimport Papa from \"papaparse\";\r\nimport { AllDataInOptions } from '../../Functions/FilterData';\r\n\r\nconst AdminAddEmail = () => {\r\n\r\n    const [personStatus, setPersonStatus] = useState(\"\");\r\n    const [personSelected, setPersonSelected] = useState({email: \"\", id: \"\"});\r\n    const [idEmail, setIdEmail] = useState(\"\");\r\n    const [listEmails, setListEmails] = useState([]);\r\n    const [listUsers, setListUsers] = useState([]);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const selectEmail = (e) => {\r\n        if(e !== null){\r\n            let emailSelected = e.split('email:')[0];\r\n            let idSelected = e.split('email:')[1];\r\n            setPersonSelected({\r\n                ...personSelected,\r\n                \"email\": emailSelected\r\n            });\r\n            setIdEmail(idSelected);\r\n        }\r\n    }\r\n\r\n    const selectPerson = (e) => {\r\n        if(e !== null){\r\n            setPersonSelected({\r\n                ...personSelected,\r\n                \"id\": e\r\n            });\r\n        }\r\n    }\r\n\r\n    const attributeEmail = () => {\r\n        changeStatus(idEmail, \"vérifié\").then(() => {\r\n            addEmail(personSelected.id, personSelected.email).then(() => {\r\n                setMessage(\"Vos données ont bien été modifiées\");\r\n              })\r\n              .catch((error) => {\r\n                setMessage(\"Error writing document: \" + error);\r\n              });\r\n        })\r\n    }\r\n\r\n    const deleteEmail = () => {\r\n        deleteEmailFirebase(idEmail).then(() => {\r\n            setMessage(\"L'email a été supprimé\")\r\n        })\r\n        .catch((error) => {\r\n            setMessage(\"Error writing document: \" + error);\r\n          });\r\n    }\r\n\r\n    useEffect(() => {\r\n        const userData = getUserData();\r\n        if(userData.data !== undefined){\r\n            setPersonStatus(userData.data.status);\r\n        }\r\n        getEmailInOption().then((results) => {\r\n            setListEmails(results);\r\n        })\r\n        setListUsers(AllDataInOptions());\r\n        \r\n    }, [message]);\r\n    \r\n\r\n    return ( \r\n        <>\r\n            {\r\n                (!personStatus || personStatus !== \"admin\") && \r\n                <div>Bien essayé mais tu n'as pas le droit de venir ici</div>\r\n            }\r\n            {\r\n                personStatus && personStatus === \"admin\" && \r\n                <>\r\n                    <NavBarAdmin />\r\n                    <h1>Gestion des emails</h1>\r\n                    <h3>Liste des adresses mails non validées</h3>\r\n                    <SelectPerson data={listEmails} modifyPerson={selectEmail} />\r\n                    <div className='text-center'><button className='btn btn-danger mt-4' onClick={deleteEmail}>Supprimer email</button></div>\r\n                    <h3 className='mt-4'>Liste des personnes sans email</h3>\r\n                    <SelectPerson data={listUsers} modifyPerson={selectPerson} />\r\n\r\n                    <div className='text-center'><button className='btn btn-primary mt-4' onClick={attributeEmail}>Attribuer</button></div>\r\n                    <div className='alert alert-success mt-3' role=\"alert\">\r\n                        <p>{message}</p>\r\n                    </div>\r\n\r\n                    <h4>Ajouter des adresses mails</h4>\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\".csv,.xlsx,.xls\"\r\n                        onChange={(e) => {\r\n                        const files = e.target.files;\r\n                        if (files) {\r\n                            console.log(files[0]);\r\n                            Papa.parse(files[0], {\r\n                            complete: function(results) {\r\n                                for(let i = 1; i < results.data.length; i++){\r\n                                    AddEmailAddressWithCSV(results.data[i]);\r\n                                }\r\n                            }}\r\n                            )\r\n                        }\r\n                        }}\r\n                    />\r\n                </>\r\n            }\r\n        </>\r\n            \r\n     );\r\n}\r\n \r\nexport default AdminAddEmail;","import React, {useEffect, useState} from 'react';\r\nimport { CSVLink } from \"react-csv\";\r\nimport fireBase, { CreateUserFromCSV, getEvents } from '../../firebase';\r\nimport Papa from \"papaparse\";\r\nimport { saveAs } from 'file-saver';\r\nimport { getUserData } from '../../Functions/cache';\r\nimport NavBarAdmin from '../../Components/navBar/navBarAdmin';\r\n\r\nconst AdminExportData = () =>  {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [personStatus, setPersonStatus] = useState(\"\");\r\n\r\n      useEffect(() => {\r\n        const userData = getUserData();\r\n        if(userData.data !== undefined){\r\n            setPersonStatus(userData.data.status);\r\n        }\r\n        getEvents()\r\n\t\t\t.then(querySnapshot => {\r\n\t\t\t\tconst data = querySnapshot.docs.map(doc => doc.data());\r\n\t\t\t\tsetData(data);\r\n\t\t\t})\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        {\r\n                (!personStatus || personStatus !== \"admin\") && \r\n                <div>Bien essayé mais tu n'as pas le droit de venir ici</div>\r\n            }\r\n            {\r\n                personStatus && personStatus === \"admin\" && \r\n                <>\r\n                    <NavBarAdmin />\r\n                    <h1>test</h1>\r\n                    <CSVLink data={data}>Download me</CSVLink>;\r\n                    <input\r\n                    type=\"file\"\r\n                    accept=\".csv,.xlsx,.xls\"\r\n                    onChange={(e) => {\r\n                      const files = e.target.files;\r\n                      if (files) {\r\n                        Papa.parse(files[0], {\r\n                          complete: function(results) {\r\n                              for(let i = 1; i < results.data.length; i++){\r\n                                CreateUserFromCSV(results.data[i]);\r\n                              }\r\n                          }}\r\n                        )\r\n                      }\r\n                    }}\r\n                  />\r\n                </>\r\n            }\r\n      </>\r\n    );\r\n\r\n}\r\n\r\nexport default AdminExportData;","import { HashRouter, Route, Switch } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport NavBar from \"./Components/navBar/navBar\";\nimport UserProvider from \"./Components/Providers/UserProvider\";\nimport HomePage from \"./Pages/deMahieu-dessain\";\nimport AnniversairePage from \"./Pages/anniversaire\";\nimport Generation2 from \"./Pages/generation2\";\nimport Generation3 from \"./Pages/generation3\";\nimport Generation4 from \"./Pages/generation4\";\nimport Jeu from \"./Pages/jeu\";\nimport Profil from \"./Pages/profilUser\";\nimport NavBarMobile from \"./Components/navBar/navBarMobile\";\nimport ListeEvenements from \"./Pages/listeEvenements\";\nimport adminCreateUser from \"./Pages/admin/adminCreateUser\";\nimport AdminGestionPicture from \"./Pages/admin/adminGestionPicture\";\nimport Jeu2 from \"./Pages/jeu2\";\nimport AdminAddEmail from \"./Pages/admin/adminAddEmail\";\nimport { getStatusEmail } from \"./firebase\";\nimport AdminExportData from \"./Pages/admin/adminExportData\";\n\nfunction App() {\n  const [status, setStatus] = useState(null);\n\n  useEffect(() => {\n    getStatusEmail(localStorage.getItem(\"email\")).then((results) => {\n      if (results !== undefined) {\n        setStatus(results[0]);\n      } else {\n        setStatus(\"not connected\");\n      }\n    });\n  }, []);\n  return (\n    <div className=\"App\">\n      <UserProvider>\n        <HashRouter>\n          <div className=\"d-none d-sm-none d-md-block\">\n            <NavBar />\n          </div>\n          <div className=\"d-block d-sm-block d-md-block d-lg-none\">\n            <NavBarMobile />\n          </div>\n\n          <main>\n            {status && status.status === \"vérifié\" && (\n              <>\n                <div className=\"container mt-3\">\n                  <Switch>\n                    <Route path=\"/admin/export\" component={AdminExportData} />\n                    <Route path=\"/admin/emails\" component={AdminAddEmail} />\n                    <Route path=\"/admin/users\" component={adminCreateUser} />\n                    <Route\n                      path=\"/admin/pictures\"\n                      component={AdminGestionPicture}\n                    />\n                    <Route\n                      path=\"/arbre/:generation/:numberFamilly\"\n                      component={HomePage}\n                    />\n                    <Route path=\"/generation4\" component={Generation4} />\n                    <Route path=\"/generation3\" component={Generation3} />\n                    <Route path=\"/generation2\" component={Generation2} />\n                    <Route path=\"/anniversaire\" component={AnniversairePage} />\n                    <Route path=\"/jeu2\" component={Jeu2} />\n                    <Route path=\"/jeu\" component={Jeu} />\n                    <Route path=\"/profil\" component={Profil} />\n                    <Route path=\"/arbre\" component={HomePage} />\n                    <Route path=\"/event/:id\" component={ListeEvenements} />\n                    <Route path=\"/\" component={ListeEvenements} />\n                  </Switch>\n                </div>\n              </>\n            )}\n            {status && status === \"not connected\" && (\n              <h4>\n                Vous n'êtes pas connecté. C'est un site familial, inutile de\n                vous connecter pour rien.\n              </h4>\n            )}\n            {status &&\n              status !== \"not connected\" &&\n              status.status !== \"vérifié\" && (\n                <h4>\n                  Votre adresse mail est en cours de vérification. Prévenez\n                  votre administrateur\n                </h4>\n              )}\n          </main>\n        </HashRouter>\n      </UserProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}